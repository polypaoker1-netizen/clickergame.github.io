<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VISA CLICKER</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        
        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.08);
            padding: 18px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo {
            font-size: 26px;
            font-weight: bold;
            background: linear-gradient(45deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(233, 69, 96, 0.3);
        }
        
        .user-info {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(15, 52, 96, 0.3);
            padding: 8px 15px;
            border-radius: 25px;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.08);
            padding: 18px 15px;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.05);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            background: rgba(255,255,255,0.12);
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #ffd700;
            margin: 8px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .stat-label {
            font-size: 13px;
            opacity: 0.8;
            letter-spacing: 0.5px;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä—ã */
        .progress-container {
            background: rgba(255,255,255,0.08);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin: 10px 0 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 10px;
            position: relative;
            transition: width 0.5s ease;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.3) 50%, 
                transparent 100%);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .xp-bar { 
            background: linear-gradient(90deg, #00b894, #00cec9); 
        }
        .energy-bar { 
            background: linear-gradient(90deg, #fdcb6e, #e17055); 
        }
        
        /* –ö–ª–∏–∫–µ—Ä */
        .clicker {
            text-align: center;
            margin: 25px 0;
            position: relative;
        }
        
        .click-area {
            width: 220px;
            height: 220px;
            background: radial-gradient(circle, #e94560, #c44569, #ff4757);
            border-radius: 50%;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 60px rgba(233,69,96,0.6),
                        inset 0 0 40px rgba(255,255,255,0.1);
            transition: all 0.1s;
            user-select: none;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }
        
        .click-area::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, 
                rgba(255,255,255,0.1) 0%, 
                transparent 70%);
            transform: rotate(0deg);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            to { transform: rotate(360deg); }
        }
        
        .click-area:active {
            transform: scale(0.92);
            box-shadow: 0 0 40px rgba(233,69,96,0.8);
        }
        
        .click-info {
            margin-top: 20px;
            background: rgba(255,255,255,0.08);
            padding: 15px;
            border-radius: 12px;
        }
        
        /* –ü–∏—Ç–æ–º—Ü—ã */
        .pet {
            position: absolute;
            font-size: 32px;
            z-index: 1;
            pointer-events: none;
            animation: floatPet 3s infinite ease-in-out;
        }
        
        @keyframes floatPet {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        
        .pet-left {
            left: 20%;
            top: 50%;
            animation: floatLeft 4s infinite ease-in-out;
        }
        
        @keyframes floatLeft {
            0%, 100% { transform: translate(-10px, 0) rotate(-5deg); }
            50% { transform: translate(10px, -15px) rotate(5deg); }
        }
        
        .pet-right {
            right: 20%;
            top: 40%;
            animation: floatRight 5s infinite ease-in-out;
        }
        
        @keyframes floatRight {
            0%, 100% { transform: translate(10px, 0) rotate(5deg); }
            50% { transform: translate(-10px, -20px) rotate(-5deg); }
        }
        
        /* –ë–û–ù–£–°–ù–´–ï –ö–ù–û–ü–ö–ò */
        .bonus-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .bonus-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(233, 69, 96, 0.3);
            padding: 12px;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .bonus-btn:hover {
            background: rgba(233, 69, 96, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.2);
        }
        
        .bonus-btn.paid {
            border-color: #00b894;
        }
        
        .bonus-btn.paid:hover {
            background: rgba(0, 184, 148, 0.3);
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
        .click-effect {
            position: absolute;
            width: 50px;
            height: 50px;
            pointer-events: none;
            background: radial-gradient(circle, rgba(255,215,0,0.8), transparent);
            border-radius: 50%;
            animation: clickBurst 0.5s forwards;
            z-index: 100;
        }
        
        @keyframes clickBurst {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        /* –ü–æ–¥–∞—Ä–∫–∏ */
        .gift {
            position: fixed;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, gold, orange);
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 30px gold;
            animation: float 3s infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        /* –ì–û–õ–û–í–û–õ–û–ú–ö–ò */
        .puzzle-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .puzzle-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            width: 90%;
            max-width: 400px;
            border: 3px solid #00b894;
            box-shadow: 0 0 40px rgba(0, 184, 148, 0.3);
        }
        
        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .puzzle-tile {
            background: #2d3436;
            border: 2px solid #00b894;
            border-radius: 10px;
            padding: 20px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            user-select: none;
        }
        
        .puzzle-tile:hover {
            background: #00b894;
            transform: scale(1.05);
        }
        
        .puzzle-tile.active {
            background: #00b894;
            box-shadow: 0 0 15px #00b894;
        }
        
        /* –ò–≥—Ä–∞ 777 */
        .game-777 {
            background: linear-gradient(145deg, rgba(121, 40, 202, 0.2), rgba(41, 128, 185, 0.2));
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid rgba(155, 89, 182, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .game-777::before {
            content: 'üé∞';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            opacity: 0.3;
        }
        
        .bet-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }
        
        .bet-btn {
            flex: 1;
            padding: 12px;
            background: rgba(155, 89, 182, 0.3);
            border: 2px solid #9b59b6;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .bet-btn:hover {
            background: rgba(155, 89, 182, 0.5);
            transform: translateY(-2px);
        }
        
        .bet-btn.active {
            background: #9b59b6;
            box-shadow: 0 0 15px rgba(155, 89, 182, 0.5);
        }
        
        .game-777-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .game-777-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(155, 89, 182, 0.4);
        }
        
        .game-777-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        /* –û–≤–µ—Ä–ª–µ–π –∏–≥—Ä—ã 777 */
        .game777-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .game777-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            width: 90%;
            max-width: 450px;
            border: 3px solid #9b59b6;
            box-shadow: 0 0 40px rgba(155, 89, 182, 0.3);
        }
        
        .challenge-timer {
            font-size: 48px;
            font-weight: bold;
            color: #00ff88;
            margin: 20px 0;
            text-shadow: 0 0 20px #00ff88;
        }
        
        .challenge-clicks {
            font-size: 36px;
            color: #ffd700;
            margin: 15px 0;
        }
        
        .challenge-target {
            font-size: 24px;
            color: #e94560;
            margin-bottom: 20px;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #e94560, #ff2e63);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            z-index: 1001;
            animation: slideInRight 0.3s, fadeOut 0.3s 2.7s;
            display: none;
            font-weight: bold;
            max-width: 300px;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.3);
            border-left: 5px solid #ffd700;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            to { opacity: 0; }
        }
        
        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .bottom-menu {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            background: rgba(255,255,255,0.08);
            padding: 15px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            z-index: 100;
        }
        
        .menu-btn {
            padding: 12px 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            min-width: 70px;
            justify-content: center;
        }
        
        .menu-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-3px);
        }
        
        .menu-btn.active {
            background: linear-gradient(135deg, #e94560, #ff2e63);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.3);
        }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            background: rgba(255,255,255,0.08);
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0 100px 0;
            display: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏—è */
        .upgrade-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .upgrade-item:hover {
            background: rgba(255,255,255,0.08);
            transform: translateX(5px);
        }
        
        .upgrade-btn {
            background: linear-gradient(135deg, #e94560, #ff2e63);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upgrade-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.3);
        }
        
        .upgrade-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        /* –ú–∏—Å—Å–∏–∏ */
        .mission-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
        }
        
        .mission-progress {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .mission-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            border-radius: 4px;
            transition: width 0.5s;
        }
        
        .mission-completed {
            color: #00ff88;
            font-weight: bold;
        }
        
        /* –ú–∞–≥–∞–∑–∏–Ω */
        .shop-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .shop-icon {
            font-size: 32px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(233, 69, 96, 0.2);
            border-radius: 12px;
        }
        
        /* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .inventory-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .inventory-item:hover {
            background: rgba(255,255,255,0.08);
            transform: translateY(-3px);
        }
        
        .inventory-item.active {
            background: rgba(0, 184, 148, 0.2);
            border: 2px solid #00b894;
        }
        
        .inventory-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        /* –Ø–π—Ü–æ */
        .egg-hatching {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .egg-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            width: 90%;
            max-width: 400px;
            border: 3px solid #ffd700;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
        }
        
        .egg-animation {
            font-size: 120px;
            margin: 30px 0;
            animation: eggShake 2s infinite;
        }
        
        @keyframes eggShake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        /* –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã */
        .wheel-container {
            text-align: center;
            padding: 30px 0;
        }
        
        .wheel {
            width: 250px;
            height: 250px;
            margin: 0 auto 30px;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            background: conic-gradient(
                #e94560 0deg 60deg,
                #00b894 60deg 120deg,
                #9b59b6 120deg 180deg,
                #ffd700 180deg 240deg,
                #3498db 240deg 300deg,
                #2ecc71 300deg 360deg
            );
            animation: wheelIdle 20s linear infinite;
        }
        
        @keyframes wheelIdle {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .wheel-spin {
            animation: wheelSpin 5s cubic-bezier(0.3, 0.7, 0.4, 1) forwards;
        }
        
        @keyframes wheelSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(3600deg); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 600px) {
            .bottom-menu {
                width: 95%;
                overflow-x: auto;
                padding: 12px;
            }
            
            .menu-btn {
                padding: 10px 15px;
                font-size: 12px;
                min-width: 60px;
            }
            
            .click-area {
                width: 200px;
                height: 200px;
                font-size: 22px;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .bonus-buttons {
                grid-template-columns: 1fr;
            }
            
            .pet {
                font-size: 24px;
            }
        }
        
        .modal-btn {
            background: linear-gradient(135deg, #00b894, #00cec9);
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: all 0.3s;
        }
        
        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.4);
        }
        
        /* NFT - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ */
        .locked-section {
            text-align: center;
            padding: 50px 20px;
            opacity: 0.6;
        }
        
        .locked-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        .locked-message {
            font-size: 18px;
            margin-bottom: 10px;
            color: #ffd700;
        }
        
        .locked-submessage {
            font-size: 14px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- –û–≤–µ—Ä–ª–µ–π –∏–≥—Ä—ã 777 -->
    <div id="game777Overlay" class="game777-overlay">
        <div class="game777-content">
            <h2>üé∞ –ò–ì–†–ê 777</h2>
            <p id="game777Text">–°–¥–µ–ª–∞–π –±–æ–ª–µ–µ <span id="targetClicks">50</span> –∫–ª–∏–∫–æ–≤ –∑–∞ <span id="targetTime">10</span> —Å–µ–∫—É–Ω–¥!</p>
            <div class="challenge-timer" id="game777Timer">10</div>
            <div class="challenge-clicks">–ö–ª–∏–∫–æ–≤: <span id="game777Clicks">0</span></div>
            <div class="challenge-target">–¶–µ–ª—å: <span id="game777Target">50</span> –∫–ª–∏–∫–æ–≤ –∑–∞ <span id="game777Time">10</span>—Å–µ–∫</div>
            <div style="margin: 25px 0;">
                <div class="click-area" style="width: 150px; height: 150px; margin: 0 auto;" onclick="countGame777Click()">
                    –ñ–ú–ò!
                </div>
            </div>
            <button class="modal-btn" onclick="closeGame777()" id="game777CloseBtn" style="display: none;">
                –ó–ê–ë–†–ê–¢–¨ –í–´–ò–ì–†–´–®
            </button>
        </div>
    </div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ -->
    <div id="puzzleOverlay" class="puzzle-overlay">
        <div class="puzzle-content">
            <h2>üß© –ì–û–õ–û–í–û–õ–û–ú–ö–ê</h2>
            <p id="puzzleDescription">–ù–∞–π–¥–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã!</p>
            <div class="puzzle-grid" id="puzzleGrid">
                <!-- –¢–∞–π–ª—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å -->
            </div>
            <div style="margin: 20px 0;">
                <div>–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: <span id="puzzleAttempts">3</span></div>
                <div>–ù–∞–≥—Ä–∞–¥–∞: <span id="puzzleReward">500 VISA + –ë—É—Å—Ç</span></div>
            </div>
            <button class="modal-btn" onclick="checkPuzzle()">–ü–†–û–í–ï–†–ò–¢–¨</button>
            <button class="modal-btn" onclick="closePuzzle()" style="background: linear-gradient(135deg, #e94560, #ff2e63);">
                –í–´–ô–¢–ò
            </button>
        </div>
    </div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –≤—ã–ª—É–ø–ª–µ–Ω–∏—è —è–π—Ü–∞ -->
    <div id="eggOverlay" class="egg-hatching">
        <div class="egg-content">
            <h2>ü•ö –í–´–õ–£–ü–õ–ï–ù–ò–ï –ü–ò–¢–û–ú–¶–ê</h2>
            <div class="egg-animation" id="eggAnimation">ü•ö</div>
            <div id="eggResult" style="display: none;">
                <div id="petResultIcon" style="font-size: 64px;"></div>
                <div id="petResultName" style="font-size: 24px; font-weight: bold; margin: 10px 0;"></div>
                <div id="petResultDescription" style="margin: 10px 0;"></div>
                <div id="petResultBonus" style="color: #00ff88; font-weight: bold;"></div>
            </div>
            <button class="modal-btn" onclick="closeEgg()" id="closeEggBtn" style="display: none;">
                –ó–ê–ë–†–ê–¢–¨ –ü–ò–¢–û–ú–¶–ê
            </button>
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>
    
    <!-- –ü–æ–¥–∞—Ä–æ–∫ -->
    <div class="gift" id="gift" onclick="collectGift()">üéÅ</div>
    
    <!-- –ò–≥—Ä–∞ -->
    <div id="gameInterface" class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="logo">VISA CLICKER</div>
            <div class="user-info">
                üë§ <span id="displayUsername">–ò–≥—Ä–æ–∫</span>
            </div>
        </div>
        
        <!-- –ö–ª–∏–∫–µ—Ä -->
        <div id="clickerScreen" class="screen" style="display: block;">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">VISA</div>
                    <div class="stat-value" id="visaCount">50</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–£–†–û–í–ï–ù–¨</div>
                    <div class="stat-value" id="levelCount">1</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ö–õ–ò–ö–û–í</div>
                    <div class="stat-value" id="clicksCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–≠–ù–ï–†–ì–ò–Ø</div>
                    <div class="stat-value" id="energyCount">50</div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
            <div class="progress-container">
                <div style="margin-bottom: 5px; display: flex; justify-content: space-between;">
                    <span>üéØ –£—Ä–æ–≤–µ–Ω—å</span>
                    <span id="xpText">0/100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill xp-bar" id="xpBar" style="width: 0%"></div>
                </div>
                
                <div style="margin: 15px 0 5px; display: flex; justify-content: space-between;">
                    <span>‚ö° –≠–Ω–µ—Ä–≥–∏—è</span>
                    <span id="energyText">50/50</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill energy-bar" id="energyBar" style="width: 100%"></div>
                </div>
            </div>
            
            <!-- –ö–õ–ò–ö–ï–† —Å –ø–∏—Ç–æ–º—Ü–∞–º–∏ -->
            <div class="clicker">
                <div id="leftPet" class="pet pet-left"></div>
                <div class="click-area" onclick="handleClick(event)" id="clickArea">
                    –ö–õ–ò–ö–ê–ô!
                </div>
                <div id="rightPet" class="pet pet-right"></div>
                <div class="click-info">
                    <div>üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞: <span id="powerValue" style="color: #00ff88;">x5</span> <span id="petBonusText"></span></div>
                    <div>üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞: <span id="chanceValue" style="color: gold;">0.5%</span></div>
                    <div>‚ö° –≠–Ω–µ—Ä–≥–∏—è/–∫–ª–∏–∫: <span id="energyPerClick">0.1</span></div>
                    <div>üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: <span id="energyRegen">1/—Å–µ–∫</span></div>
                </div>
            </div>
            
            <!-- –ë–û–ù–£–°–ù–´–ï –ö–ù–û–ü–ö–ò -->
            <div class="bonus-buttons">
                <button class="bonus-btn" onclick="quickBonus()">
                    ‚ö° –ë—ã—Å—Ç—Ä—ã–π –±–æ–Ω—É—Å
                </button>
                <button class="bonus-btn paid" onclick="buyEnergy()">
                    üîã –ö—É–ø–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é
                </button>
                <button class="bonus-btn" onclick="dailyReward()">
                    üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞
                </button>
                <button class="bonus-btn paid" onclick="specialOffer()">
                    üíé –°–ø–µ—Ü–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
                </button>
            </div>
            
            <!-- –ò–≥—Ä–∞ 777 -->
            <div class="game-777">
                <h3 style="margin-bottom: 15px; color: #9b59b6;">üé∞ –ò–ì–†–ê 777</h3>
                <p style="margin-bottom: 15px; font-size: 14px; opacity: 0.9;">
                    –£—Å–ª–æ–∂–Ω—è—é—â–∞—è—Å—è –∏–≥—Ä–∞! –°–¥–µ–ª–∞–π –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –∑–∞ –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è!
                    –í—ã–∏–≥—Ä—ã—à: x3 –æ—Ç —Å—Ç–∞–≤–∫–∏!
                </p>
                
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>–°—Ç–∞–≤–∫–∞:</span>
                        <span id="currentBet">1000</span> VISA
                    </div>
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBet(500)">500</button>
                        <button class="bet-btn active" onclick="setBet(1000)">1000</button>
                        <button class="bet-btn" onclick="setBet(2500)">2500</button>
                        <button class="bet-btn" onclick="setBet(5000)">5000</button>
                    </div>
                </div>
                
                <div style="background: rgba(155, 89, 182, 0.2); padding: 10px; border-radius: 10px; margin: 15px 0;">
                    <div>–°–ª–æ–∂–Ω–æ—Å—Ç—å: <span id="gameDifficulty">1</span> —É—Ä–æ–≤–µ–Ω—å</div>
                    <div>–¶–µ–ª—å: <span id="gameTargetDisplay">50</span> –∫–ª–∏–∫–æ–≤ –∑–∞ <span id="gameTimeDisplay">10</span> —Å–µ–∫</div>
                </div>
                
                <button class="game-777-btn" onclick="startGame777()" id="start777Btn">
                    –ò–ì–†–ê–¢–¨ (<span id="betAmount">1000</span> VISA)
                </button>
            </div>
            
            <!-- –£–ª—É—á—à–µ–Ω–∏—è -->
            <div class="upgrades" style="margin-top: 25px;">
                <h3 style="margin-bottom: 20px; color: #e94560;">‚ö° –£–õ–£–ß–®–ï–ù–ò–Ø</h3>
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–∞—è: x<span id="clickPower">5</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('click')" id="clickBtn">
                        500 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">‚ö° –≠–Ω–µ—Ä–≥–∏—è</div>
                        <div style="font-size: 13px; opacity: 0.8;">–ú–∞–∫—Å: <span id="maxEnergy">50</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('energy')" id="energyBtn">
                        800 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–∏–π: <span id="giftChanceValue">0.5%</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('chance')" id="chanceBtn">
                        1200 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–µ–µ: <span id="regenSpeed">1</span>/—Å–µ–∫</div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('regen')" id="regenBtn">
                        1500 VISA
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ú–∏—Å—Å–∏–∏ -->
        <div id="missionsScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #00b894;">üéØ –ú–ò–°–°–ò–ò</h3>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 100 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission1Progress">0/100</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission1Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(1)" id="mission1Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 100 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 500 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission2Progress">0/500</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission2Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(2)" id="mission2Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 500 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 1000 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission3Progress">0/1000</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission3Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(3)" id="mission3Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 1000 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üîî –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª</span>
                    <span id="telegramStatus">‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                </div>
                <button class="upgrade-btn" onclick="completeTelegramMission()" id="telegramBtn" style="width: 100%; margin-top: 10px;">
                    –ü–û–î–ü–ò–°–ê–¢–¨–°–Ø (+500 VISA)
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üëç –ü–æ—Å—Ç–∞–≤—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –ø–æ—Å—Ç</span>
                    <span id="reactionStatus">‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                </div>
                <button class="upgrade-btn" onclick="completeReactionMission()" id="reactionBtn" style="width: 100%; margin-top: 10px;">
                    –ü–û–°–¢–ê–í–ò–¢–¨ –†–ï–ê–ö–¶–ò–Æ (+300 VISA)
                </button>
            </div>
        </div>
        
        <!-- –ú–∞–≥–∞–∑–∏–Ω -->
        <div id="shopScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #9b59b6;">üè™ –ú–ê–ì–ê–ó–ò–ù –ë–£–°–¢–û–í</h3>
            
            <div class="shop-item">
                <div class="shop-icon">‚ö°</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –°–∏–ª–∞ –∫–ª–∏–∫–∞</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 5 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('click')">
                    1000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üéÅ</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 10 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('chance')">
                    2000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üîã</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">–ë–µ—Å–∫. —ç–Ω–µ—Ä–≥–∏—è</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 3 –º–∏–Ω—É—Ç—ã</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('energy')">
                    3000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üí∞</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –ù–∞–≥—Ä–∞–¥—ã</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 15 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('reward')">
                    5000 VISA
                </button>
            </div>
            
            <!-- –Ø–π—Ü–æ —Å –ø–∏—Ç–æ–º—Ü–∞–º–∏ -->
            <h3 style="margin: 30px 0 20px 0; color: #ffd700;">ü•ö –¢–ê–ò–ù–°–¢–í–ï–ù–ù–û–ï –Ø–ô–¶–û</h3>
            
            <div class="shop-item" style="background: rgba(255, 215, 0, 0.1); border: 2px solid #ffd700;">
                <div class="shop-icon" style="background: rgba(255, 215, 0, 0.3);">ü•ö</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">–¢–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —è–π—Ü–æ</div>
                    <div style="font-size: 13px; opacity: 0.8;">–í—ã–ª—É–ø–∏—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π –ø–∏—Ç–æ–º–µ—Ü!</div>
                    <div style="font-size: 12px; color: #00ff88; margin-top: 5px;">
                        –†–µ–¥–∫–∏–π (40%), –û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π (30%), –≠–ø–∏—á–µ—Å–∫–∏–π (20%), –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π (10%)
                    </div>
                </div>
                <button class="upgrade-btn" onclick="buyEgg()" id="eggBtn" style="background: linear-gradient(135deg, #ffd700, #ffa500);">
                    1250 VISA
                </button>
            </div>
            
            <!-- NFT –≤–∫–ª–∞–¥–∫–∞ - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–ê -->
            <h3 style="margin: 30px 0 20px 0; color: #ffd700;">üé® NFT-–ü–û–î–ê–†–ö–ò</h3>
            
            <div class="locked-section">
                <div class="locked-icon">üîí</div>
                <div class="locked-message">–§—É–Ω–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</div>
                <div class="locked-submessage">NFT-–ø–æ–¥–∞—Ä–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –±–ª–∏–∂–∞–π—à–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!</div>
                <button class="modal-btn" onclick="showComingSoon()" style="margin-top: 20px; background: linear-gradient(135deg, #666, #888);">
                    –°–ö–û–†–û
                </button>
            </div>
        </div>
        
        <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
        <div id="inventoryScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #ffd700;">üéí –ò–ù–í–ï–ù–¢–ê–†–¨</h3>
            
            <h4 style="margin: 20px 0 10px 0; color: #e94560;">üëë –í–∞—à–∏ –ø–∏—Ç–æ–º—Ü—ã</h4>
            <div id="petsGrid" class="inventory-grid">
                <!-- –ü–∏—Ç–æ–º—Ü—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                <div class="inventory-item" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                    <div class="inventory-icon">üêæ</div>
                    <div>–ü–∏—Ç–æ–º—Ü–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
                    <div style="font-size: 12px; margin-top: 5px;">–ö—É–ø–∏—Ç–µ —è–π—Ü–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ!</div>
                </div>
            </div>
            
            <h4 style="margin: 20px 0 10px 0; color: #00b894;">üéÅ –ü—Ä–µ–¥–º–µ—Ç—ã</h4>
            <div id="inventoryGrid" class="inventory-grid">
                <!-- –ë—É—Å—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                <div class="inventory-item" id="emptyInventory" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                    <div class="inventory-icon">üì¶</div>
                    <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                    <div style="font-size: 12px; margin-top: 5px;">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–∏</div>
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,215,0,0.1); border-radius: 12px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: bold;">–í—Å–µ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤:</div>
                        <div style="font-size: 13px; opacity: 0.8;">–ü–∏—Ç–æ–º—Ü—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—É—Å—Ç—ã</div>
                    </div>
                    <div id="itemsCount" style="font-size: 24px; color: #ffd700;">0</div>
                </div>
            </div>
        </div>
        
        <!-- –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã -->
        <div id="wheelScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #3498db;">üé° –ö–û–õ–ï–°–û –§–û–†–¢–£–ù–´</h3>
            
            <div class="wheel-container">
                <div class="wheel" id="fortuneWheel"></div>
                <div style="margin: 20px 0;">
                    <div style="font-size: 18px; margin-bottom: 10px;">–ü–æ–ø—ã—Ç–æ–∫: <span id="wheelAttempts">3</span></div>
                    <div style="font-size: 14px; opacity: 0.8; margin-bottom: 20px;">
                        –ö—Ä—É—Ç–∏ –∫–æ–ª–µ—Å–æ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π –ø—Ä–∏–∑—ã!<br>
                        –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
                    </div>
                    <button class="modal-btn" onclick="spinWheel()" id="spinBtn" style="width: 200px;">
                        –ö–†–£–¢–ò–¢–¨ (100 VISA)
                    </button>
                </div>
                
                <div style="margin-top: 30px; padding: 15px; background: rgba(52, 152, 219, 0.1); border-radius: 12px;">
                    <div style="font-weight: bold; margin-bottom: 10px;">–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏–∑—ã:</div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 13px;">
                        <div>üéÅ 500-1000 VISA</div>
                        <div>‚ö° –ë—É—Å—Ç —Å–∏–ª—ã</div>
                        <div>üîã –ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏</div>
                        <div>üí∞ x2 –ù–∞–≥—Ä–∞–¥—ã</div>
                        <div>üëë –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç</div>
                        <div>üíé 5000 VISA</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
        <div class="bottom-menu">
            <button class="menu-btn active" onclick="showScreen('clicker')">
                üéÆ –ò–≥—Ä–∞
            </button>
            <button class="menu-btn" onclick="showScreen('missions')">
                üéØ –ú–∏—Å—Å–∏–∏
            </button>
            <button class="menu-btn" onclick="showScreen('shop')">
                üè™ –ú–∞–≥–∞–∑–∏–Ω
            </button>
            <button class="menu-btn" onclick="showScreen('inventory')">
                üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
            </button>
            <button class="menu-btn" onclick="showScreen('wheel')">
                üé° –§–æ—Ä—Ç—É–Ω–∞
            </button>
        </div>
    </div>

    <script>
        // ======================
        // –ò–ì–†–û–í–´–ï –î–ê–ù–ù–´–ï
        // ======================
        let gameData = {
            username: '–ò–≥—Ä–æ–∫',
            visa: 50,
            level: 1,
            xp: 0,
            xpNeeded: 100,
            energy: 50,
            maxEnergy: 50,
            totalClicks: 0,
            giftsCollected: 0,
            puzzlesCollected: 0,
            clickPower: 5,
            giftChance: 0.005,
            puzzleChance: 0.001,
            energyCost: 0.1,
            energyRegen: 1,
            upgrades: {
                click: { level: 1, cost: 500 },
                energy: { level: 1, cost: 800 },
                chance: { level: 1, cost: 1200 },
                regen: { level: 1, cost: 1500 }
            },
            missions: {
                clicks100: { completed: false, claimed: false },
                clicks500: { completed: false, claimed: false },
                clicks1000: { completed: false, claimed: false },
                telegram: { completed: false, claimed: false },
                reaction: { completed: false, claimed: false }
            },
            boosts: {
                click: { active: false, endTime: 0, multiplier: 2 },
                chance: { active: false, endTime: 0, multiplier: 2 },
                energy: { active: false, endTime: 0 },
                reward: { active: false, endTime: 0, multiplier: 2 }
            },
            pets: [],
            activePet: null,
            inventory: [],
            wheelAttempts: 3,
            lastWheelSpin: 0,
            lastEnergyUpdate: Date.now(),
            dailyRewardClaimed: false,
            lastBonusTime: 0,
            game777Level: 1,
            hasEgg: false,
            eggBought: false
        };

        // –ò–≥—Ä–∞ 777
        let game777 = {
            active: false,
            timeLeft: 10,
            clicks: 0,
            target: 50,
            timeLimit: 10,
            bet: 1000,
            timer: null
        };

        // –ì–æ–ª–æ–≤–æ–ª–æ–º–∫–∞
        let puzzleGame = {
            active: false,
            attempts: 3,
            currentPuzzle: null,
            selectedTiles: []
        };

        // –ü–∏—Ç–æ–º—Ü—ã
        const pets = [
            // –†–µ–¥–∫–∏–µ (40%)
            { id: 1, name: "–ó–æ–ª–æ—Ç–æ–π —Ü—ã–ø–ª–µ–Ω–æ–∫", icon: "üê•", rarity: "–†–µ–¥–∫–∏–π", bonus: 0.1, description: "–ú–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫" },
            { id: 2, name: "–°–µ—Ä–µ–±—Ä—è–Ω—ã–π –≥–æ–ª—É–±—å", icon: "üïäÔ∏è", rarity: "–†–µ–¥–∫–∏–π", bonus: 0.15, description: "–ü—Ä–∏–Ω–æ—Å–∏—Ç —É–¥–∞—á—É" },
            { id: 3, name: "–ú–µ–¥–Ω—ã–π —Ö–æ–º—è–∫", icon: "üêπ", rarity: "–†–µ–¥–∫–∏–π", bonus: 0.12, description: "–ë—ã—Å—Ç—Ä–æ —Å–æ–±–∏—Ä–∞–µ—Ç –º–æ–Ω–µ—Ç—ã" },
            
            // –û—á–µ–Ω—å —Ä–µ–¥–∫–∏–µ (30%)
            { id: 4, name: "–ò–∑—É–º—Ä—É–¥–Ω—ã–π –ø–æ–ø—É–≥–∞–π", icon: "ü¶ú", rarity: "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π", bonus: 0.25, description: "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä–∞–¥—ã" },
            { id: 5, name: "–°–∞–ø—Ñ–∏—Ä–æ–≤—ã–π –∫–æ—Ç", icon: "üê±", rarity: "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π", bonus: 0.3, description: "–ü—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç –±–æ–≥–∞—Ç—Å—Ç–≤–æ" },
            { id: 6, name: "–†—É–±–∏–Ω–æ–≤–∞—è –ª–∏—Å–∞", icon: "ü¶ä", rarity: "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π", bonus: 0.28, description: "–•–∏—Ç—Ä—ã–π –ø–æ–º–æ—â–Ω–∏–∫" },
            
            // –≠–ø–∏—á–µ—Å–∫–∏–µ (20%)
            { id: 7, name: "–ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π –¥—Ä–∞–∫–æ–Ω", icon: "üê≤", rarity: "–≠–ø–∏—á–µ—Å–∫–∏–π", bonus: 0.5, description: "–ú–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞—â–∏—Ç–Ω–∏–∫" },
            { id: 8, name: "–ê–º–µ—Ç–∏—Å—Ç–æ–≤—ã–π –µ–¥–∏–Ω–æ—Ä–æ–≥", icon: "ü¶Ñ", rarity: "–≠–ø–∏—á–µ—Å–∫–∏–π", bonus: 0.45, description: "–ú–∞–≥–∏—á–µ—Å–∫–∏–π —Å–ø—É—Ç–Ω–∏–∫" },
            
            // –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ (10%)
            { id: 9, name: "–ê–ª–º–∞–∑–Ω—ã–π —Ñ–µ–Ω–∏–∫—Å", icon: "üî•", rarity: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π", bonus: 1.0, description: "–ú–∏—Ñ–∏—á–µ—Å–∫–æ–µ —Å—É—â–µ—Å—Ç–≤–æ" },
            { id: 10, name: "–ö—Ä–∏—Å—Ç–∞–ª—å–Ω—ã–π –∞–∏—Å—Ç", icon: "ü¶©", rarity: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π", bonus: 0.8, description: "–ü—Ä–∏–Ω–æ—Å–∏—Ç —Å—á–∞—Å—Ç—å–µ" }
        ];

        // ======================
        // –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
        // ======================
        function showNotify(text, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = text;
            
            switch(type) {
                case 'success':
                    notification.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                    notification.style.borderLeftColor = '#00ff88';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(135deg, #e84118, #c23616)';
                    notification.style.borderLeftColor = '#ff3838';
                    break;
                case 'warning':
                    notification.style.background = 'linear-gradient(135deg, #fdcb6e, #e17055)';
                    notification.style.borderLeftColor = '#ffd700';
                    break;
                default:
                    notification.style.background = 'linear-gradient(135deg, #e94560, #ff2e63)';
                    notification.style.borderLeftColor = '#e94560';
            }
            
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // ======================
        // –≠–§–§–ï–ö–¢ –ö–õ–ò–ö–ê
        // ======================
        function createClickEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.style.left = (x - 25) + 'px';
            effect.style.top = (y - 25) + 'px';
            document.body.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 500);
        }

        // ======================
        // –û–°–ù–û–í–ù–û–ô –ö–õ–ò–ö
        // ======================
        function handleClick(event) {
            // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç
            createClickEffect(event.clientX, event.clientY);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏
            if (gameData.energy < gameData.energyCost) {
                showNotify('‚ö° –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏!', 'error');
                return;
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–µ—Ä–∞
            const clickArea = document.getElementById('clickArea');
            clickArea.style.transform = 'scale(0.92)';
            setTimeout(() => {
                clickArea.style.transform = 'scale(1)';
            }, 100);
            
            // –†–∞—Å—á–µ—Ç —Å–∏–ª—ã –∫–ª–∏–∫–∞ —Å —É—á–µ—Ç–æ–º –ø–∏—Ç–æ–º—Ü–∞
            let power = gameData.clickPower;
            if (gameData.boosts.click.active) {
                power *= gameData.boosts.click.multiplier;
            }
            
            // –ë–æ–Ω—É—Å –æ—Ç –ø–∏—Ç–æ–º—Ü–∞
            let petBonus = 0;
            if (gameData.activePet) {
                const pet = gameData.pets.find(p => p.id === gameData.activePet);
                if (pet) {
                    petBonus = pet.bonus;
                    power += pet.bonus;
                }
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            gameData.totalClicks++;
            gameData.visa += power;
            gameData.xp += 2;
            gameData.energy -= gameData.energyCost;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–∞
            let chance = gameData.giftChance;
            if (gameData.boosts.chance.active) {
                chance *= gameData.boosts.chance.multiplier;
            }
            
            if (Math.random() < chance) {
                showGift();
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏
            if (Math.random() < gameData.puzzleChance && !puzzleGame.active) {
                showPuzzle();
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏—Å—Å–∏–π
            updateMissions();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            if (gameData.xp >= gameData.xpNeeded) {
                levelUp();
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
            saveGame();
            updateUI();
        }

        // ======================
        // –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ü–ò–¢–û–ú–¶–ï–í
        // ======================
        function updatePets() {
            if (!gameData.activePet) {
                document.getElementById('leftPet').innerHTML = '';
                document.getElementById('rightPet').innerHTML = '';
                document.getElementById('petBonusText').innerHTML = '';
                return;
            }
            
            const pet = gameData.pets.find(p => p.id === gameData.activePet);
            if (!pet) return;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∏—Ç–æ–º—Ü–∞ —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–ø—Ä–∞–≤–∞
            const leftPet = document.getElementById('leftPet');
            const rightPet = document.getElementById('rightPet');
            
            leftPet.innerHTML = pet.icon;
            rightPet.innerHTML = pet.icon;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–æ–Ω—É—Å
            document.getElementById('petBonusText').innerHTML = `<span style="color:#ffd700;"> (+${pet.bonus})</span>`;
        }

        // ======================
        // –ü–û–ö–£–ü–ö–ê –Ø–ô–¶–ê
        // ======================
        function buyEgg() {
            if (gameData.eggBought) {
                showNotify('ü•ö –Ø–π—Ü–æ —É–∂–µ –∫—É–ø–ª–µ–Ω–æ! –ú–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —è–π—Ü–æ.', 'warning');
                return;
            }
            
            if (gameData.visa < 1250) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA! –ù—É–∂–Ω–æ 1250', 'error');
                return;
            }
            
            gameData.visa -= 1250;
            gameData.eggBought = true;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤—ã–ª—É–ø–ª–µ–Ω–∏—è
            hatchEgg();
            
            saveGame();
            updateUI();
        }

        function hatchEgg() {
            document.getElementById('eggOverlay').style.display = 'flex';
            document.getElementById('eggResult').style.display = 'none';
            document.getElementById('closeEggBtn').style.display = 'none';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã–ª—É–ø–ª–µ–Ω–∏—è
            setTimeout(() => {
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏
                const rand = Math.random();
                let petRarity;
                
                if (rand < 0.4) petRarity = "–†–µ–¥–∫–∏–π";
                else if (rand < 0.7) petRarity = "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π";
                else if (rand < 0.9) petRarity = "–≠–ø–∏—á–µ—Å–∫–∏–π";
                else petRarity = "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π";
                
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ —ç—Ç–æ–π —Ä–µ–¥–∫–æ—Å—Ç–∏
                const availablePets = pets.filter(pet => pet.rarity === petRarity);
                const randomPet = availablePets[Math.floor(Math.random() * availablePets.length)];
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ø–∏—Ç–æ–º—Ü–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                gameData.pets.push({
                    id: randomPet.id,
                    name: randomPet.name,
                    icon: randomPet.icon,
                    rarity: randomPet.rarity,
                    bonus: randomPet.bonus,
                    description: randomPet.description,
                    date: new Date().toISOString()
                });
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ–º –ø–µ—Ä–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ –∞–∫—Ç–∏–≤–Ω—ã–º
                if (gameData.pets.length === 1) {
                    gameData.activePet = randomPet.id;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                document.getElementById('eggAnimation').style.display = 'none';
                document.getElementById('eggResult').style.display = 'block';
                document.getElementById('petResultIcon').textContent = randomPet.icon;
                document.getElementById('petResultName').textContent = randomPet.name;
                document.getElementById('petResultDescription').textContent = randomPet.description;
                document.getElementById('petResultBonus').textContent = `–ë–æ–Ω—É—Å –∫ –∫–ª–∏–∫–∞–º: +${randomPet.bonus}`;
                
                // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–¥–∫–æ—Å—Ç–∏
                let color = '#00ff88';
                if (petRarity === "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π") color = '#3498db';
                else if (petRarity === "–≠–ø–∏—á–µ—Å–∫–∏–π") color = '#9b59b6';
                else if (petRarity === "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π") color = '#ffd700';
                
                document.getElementById('petResultName').style.color = color;
                
                document.getElementById('closeEggBtn').style.display = 'block';
                gameData.hasEgg = false;
                
                showNotify(`ü•ö –í—ã–ª—É–ø–∏–ª—Å—è ${petRarity} –ø–∏—Ç–æ–º–µ—Ü: ${randomPet.name}!`, 'success');
                updatePetsInventory();
                updatePets();
            }, 3000);
        }

        function closeEgg() {
            document.getElementById('eggOverlay').style.display = 'none';
            document.getElementById('eggAnimation').style.display = 'block';
            document.getElementById('eggResult').style.display = 'none';
            document.getElementById('closeEggBtn').style.display = 'none';
            updateUI();
        }

        // ======================
        // –ò–ù–í–ï–ù–¢–ê–†–¨ –ü–ò–¢–û–ú–¶–ï–í
        // ======================
        function updatePetsInventory() {
            const grid = document.getElementById('petsGrid');
            
            if (gameData.pets.length === 0) {
                grid.innerHTML = `
                    <div class="inventory-item" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                        <div class="inventory-icon">üêæ</div>
                        <div>–ü–∏—Ç–æ–º—Ü–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
                        <div style="font-size: 12px; margin-top: 5px;">–ö—É–ø–∏—Ç–µ —è–π—Ü–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ!</div>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = '';
            
            gameData.pets.forEach((pet, index) => {
                const petData = pets.find(p => p.id === pet.id);
                if (!petData) return;
                
                const isActive = gameData.activePet === pet.id;
                
                const petDiv = document.createElement('div');
                petDiv.className = `inventory-item ${isActive ? 'active' : ''}`;
                petDiv.onclick = () => equipPet(pet.id);
                
                let rarityColor = '#00ff88';
                if (petData.rarity === "–û—á–µ–Ω—å —Ä–µ–¥–∫–∏–π") rarityColor = '#3498db';
                else if (petData.rarity === "–≠–ø–∏—á–µ—Å–∫–∏–π") rarityColor = '#9b59b6';
                else if (petData.rarity === "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π") rarityColor = '#ffd700';
                
                petDiv.innerHTML = `
                    <div class="inventory-icon">${petData.icon}</div>
                    <div style="font-weight: bold; font-size: 14px; color: ${rarityColor}">${petData.name}</div>
                    <div style="font-size: 10px; color: ${rarityColor}">${petData.rarity}</div>
                    <div style="font-size: 12px; opacity: 0.8;">+${petData.bonus} –∫ –∫–ª–∏–∫–∞–º</div>
                    ${isActive ? '<div style="font-size: 10px; color: #00ff88;">–ê–∫—Ç–∏–≤–µ–Ω</div>' : 
                     '<div style="font-size: 10px; opacity: 0.7;">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞–¥–µ—Ç—å</div>'}
                `;
                
                grid.appendChild(petDiv);
            });
        }

        function equipPet(petId) {
            if (gameData.activePet === petId) {
                gameData.activePet = null;
                showNotify('üëë –ü–∏—Ç–æ–º–µ—Ü —Å–Ω—è—Ç', 'info');
            } else {
                gameData.activePet = petId;
                const pet = gameData.pets.find(p => p.id === petId);
                showNotify(`üëë –ü–∏—Ç–æ–º–µ—Ü "${pet.name}" —ç–∫–∏–ø–∏—Ä–æ–≤–∞–Ω!`, 'success');
            }
            
            updatePets();
            updatePetsInventory();
            saveGame();
            updateUI();
        }

        // ======================
        // –ü–û–î–ê–†–ö–ò
        // ======================
        function showGift() {
            const gift = document.getElementById('gift');
            gift.style.display = 'flex';
            gift.style.left = Math.random() * 70 + 15 + '%';
            gift.style.top = Math.random() * 70 + 15 + '%';
            
            showNotify('üéÅ –ü–æ—è–≤–∏–ª—Å—è –†–ï–î–ö–ò–ô –ø–æ–¥–∞—Ä–æ–∫! –ö–ª–∏–∫–Ω–∏!', 'warning');
            
            setTimeout(() => {
                if (gift.style.display !== 'none') {
                    gift.style.display = 'none';
                    showNotify('–ü–æ–¥–∞—Ä–æ–∫ –∏—Å—á–µ–∑!', 'error');
                }
            }, 5000);
        }

        function collectGift() {
            const gift = document.getElementById('gift');
            gift.style.display = 'none';
            
            gameData.giftsCollected++;
            
            // –¢–∏–ø –Ω–∞–≥—Ä–∞–¥—ã
            const rand = Math.random();
            
            if (rand < 0.85) {
                // VISA (200-1000)
                const amount = Math.floor(Math.random() * 800) + 200;
                if (gameData.boosts.reward.active) {
                    amount *= gameData.boosts.reward.multiplier;
                }
                gameData.visa += amount;
                showNotify(`üéÅ +${amount} VISA! –í—Å–µ–≥–æ –ø–æ–¥–∞—Ä–∫–æ–≤: ${gameData.giftsCollected}`, 'success');
            } else if (rand < 0.95) {
                // –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç
                const rareItems = [
                    {name: '–ó–æ–ª–æ—Ç–æ–π –∫–ª–∏–∫–µ—Ä', value: 500, type: 'rare'},
                    {name: '–ë—Ä–∏–ª–ª–∏–∞–Ω—Ç–æ–≤–∞—è —ç–Ω–µ—Ä–≥–∏—è', value: 1000, type: 'rare'},
                    {name: '–ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π –±—É—Å—Ç', value: 1500, type: 'rare'}
                ];
                const item = rareItems[Math.floor(Math.random() * rareItems.length)];
                
                gameData.inventory.push({
                    name: item.name,
                    type: item.type,
                    value: item.value
                });
                
                showNotify(`üéÅ –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç: ${item.name}!`, 'success');
                updateInventory();
            } else if (rand < 0.99) {
                // –ë—É—Å—Ç
                const boosts = ['–ë—É—Å—Ç —Å–∏–ª—ã –Ω–∞ 10 –º–∏–Ω', '–ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏ –Ω–∞ 5 –º–∏–Ω', '–ë—É—Å—Ç —à–∞–Ω—Å–∞ –Ω–∞ 15 –º–∏–Ω'];
                const boostName = boosts[Math.floor(Math.random() * boosts.length)];
                
                gameData.inventory.push({
                    name: boostName,
                    type: 'boost',
                    endTime: Date.now() + (10 * 60 * 1000)
                });
                
                showNotify(`üéÅ –ù–∞–π–¥–µ–Ω –±—É—Å—Ç: ${boostName}!`, 'success');
                updateInventory();
            } else {
                // –°—É–ø–µ—Ä —Ä–µ–¥–∫–∏–π
                const amount = Math.floor(Math.random() * 1000) + 1000;
                if (gameData.boosts.reward.active) {
                    amount *= gameData.boosts.reward.multiplier;
                }
                gameData.visa += amount;
                gameData.clickPower += 1;
                showNotify(`üéÅ –°–£–ü–ï–† –ü–û–î–ê–†–û–ö! +${amount} VISA –∏ +1 –∫ —Å–∏–ª–µ –∫–ª–∏–∫–∞!`, 'success');
            }
            
            saveGame();
            updateUI();
        }

        // ======================
        // –ì–û–õ–û–í–û–õ–û–ú–ö–ò
        // ======================
        function showPuzzle() {
            puzzleGame.active = true;
            puzzleGame.attempts = 3;
            puzzleGame.selectedTiles = [];
            
            const symbols = ['‚≠ê', 'üéØ', 'üí∞', '‚ö°', 'üéÅ', 'üîã', 'üëë', 'üíé', 'üöÄ'];
            const puzzleSymbols = [];
            
            for (let i = 0; i < 3; i++) {
                puzzleSymbols.push(symbols[Math.floor(Math.random() * symbols.length)]);
            }
            
            const tiles = [...puzzleSymbols, ...puzzleSymbols];
            while (tiles.length < 9) {
                tiles.push(symbols[Math.floor(Math.random() * symbols.length)]);
            }
            
            for (let i = tiles.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [tiles[i], tiles[j]] = [tiles[j], tiles[i]];
            }
            
            puzzleGame.currentPuzzle = {
                symbols: puzzleSymbols,
                tiles: tiles
            };
            
            document.getElementById('puzzleOverlay').style.display = 'flex';
            document.getElementById('puzzleDescription').textContent = '–ù–∞–π–¥–∏ 3 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–∞!';
            document.getElementById('puzzleAttempts').textContent = puzzleGame.attempts;
            document.getElementById('puzzleReward').textContent = '500 VISA + –ë—É—Å—Ç';
            
            const grid = document.getElementById('puzzleGrid');
            grid.innerHTML = '';
            
            tiles.forEach((symbol, index) => {
                const tile = document.createElement('div');
                tile.className = 'puzzle-tile';
                tile.textContent = symbol;
                tile.dataset.index = index;
                tile.onclick = () => selectPuzzleTile(index);
                grid.appendChild(tile);
            });
            
            showNotify('üß© –ü–æ—è–≤–∏–ª–∞—Å—å –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞! –†–µ—à–∏ –µ—ë –¥–ª—è –Ω–∞–≥—Ä–∞–¥—ã!', 'warning');
        }

        function selectPuzzleTile(index) {
            if (!puzzleGame.active) return;
            
            const tile = document.querySelector(`.puzzle-tile[data-index="${index}"]`);
            
            if (puzzleGame.selectedTiles.includes(index)) {
                puzzleGame.selectedTiles = puzzleGame.selectedTiles.filter(i => i !== index);
                tile.classList.remove('active');
            } else if (puzzleGame.selectedTiles.length < 3) {
                puzzleGame.selectedTiles.push(index);
                tile.classList.add('active');
            }
        }

        function checkPuzzle() {
            if (!puzzleGame.active || puzzleGame.selectedTiles.length !== 3) {
                showNotify('–í—ã–±–µ—Ä–∏—Ç–µ 3 —Ç–∞–π–ª–∞!', 'error');
                return;
            }
            
            puzzleGame.attempts--;
            document.getElementById('puzzleAttempts').textContent = puzzleGame.attempts;
            
            const selectedSymbols = puzzleGame.selectedTiles.map(index => 
                puzzleGame.currentPuzzle.tiles[index]
            );
            
            const allSame = selectedSymbols.every(symbol => symbol === selectedSymbols[0]);
            
            if (allSame) {
                closePuzzle();
                
                const reward = 500 + Math.floor(Math.random() * 500);
                gameData.visa += reward;
                gameData.puzzlesCollected++;
                
                const boostTypes = ['click', 'chance', 'energy'];
                const randomBoost = boostTypes[Math.floor(Math.random() * boostTypes.length)];
                activateBoost(randomBoost, 10 * 60 * 1000, randomBoost === 'click' ? 2 : randomBoost === 'chance' ? 2 : 1);
                
                showNotify(`üß© –ì–û–õ–û–í–û–õ–û–ú–ö–ê –†–ï–®–ï–ù–ê! +${reward} VISA –∏ –±—É—Å—Ç!`, 'success');
            } else {
                if (puzzleGame.attempts <= 0) {
                    closePuzzle();
                    showNotify('üß© –ü–æ–ø—ã—Ç–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å! –ü–æ–ø—Ä–æ–±—É–π –≤ –¥—Ä—É–≥–æ–π —Ä–∞–∑', 'error');
                } else {
                    puzzleGame.selectedTiles.forEach(index => {
                        const tile = document.querySelector(`.puzzle-tile[data-index="${index}"]`);
                        tile.classList.remove('active');
                    });
                    puzzleGame.selectedTiles = [];
                    showNotify('–ù–µ–≤–µ—Ä–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑', 'error');
                }
            }
            
            saveGame();
            updateUI();
        }

        function closePuzzle() {
            document.getElementById('puzzleOverlay').style.display = 'none';
            puzzleGame.active = false;
            puzzleGame.selectedTiles = [];
        }

        // ======================
        // –ò–ì–†–ê 777
        // ======================
        function setBet(amount) {
            if (game777.active) return;
            
            game777.bet = amount;
            
            document.querySelectorAll('.bet-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            document.getElementById('currentBet').textContent = amount;
            document.getElementById('betAmount').textContent = amount;
            
            const btn = document.getElementById('start777Btn');
            if (gameData.visa < amount) {
                btn.disabled = true;
                btn.style.opacity = '0.5';
            } else {
                btn.disabled = false;
                btn.style.opacity = '1';
            }
        }

        function updateGame777Difficulty() {
            const level = gameData.game777Level;
            
            // –£—Å–ª–æ–∂–Ω—è—é—â–∏–µ—Å—è —É—Ä–æ–≤–Ω–∏ –ø–æ —Ü–∏–∫–ª—É 3-—Ö —É—Ä–æ–≤–Ω–µ–π
            const cycle = (level - 1) % 3;
            const cycleCount = Math.floor((level - 1) / 3);
            
            switch(cycle) {
                case 0:
                    game777.target = 50 + (cycleCount * 10);
                    game777.timeLimit = 10;
                    break;
                case 1:
                    game777.target = 77 + (cycleCount * 15);
                    game777.timeLimit = 10;
                    break;
                case 2:
                    game777.target = 50 + (cycleCount * 10);
                    game777.timeLimit = 7;
                    break;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('gameDifficulty').textContent = level;
            document.getElementById('gameTargetDisplay').textContent = game777.target;
            document.getElementById('gameTimeDisplay').textContent = game777.timeLimit;
        }

        function startGame777() {
            if (game777.active) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
            if (gameData.visa < game777.bet) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA –¥–ª—è —Å—Ç–∞–≤–∫–∏!', 'error');
                return;
            }
            
            // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É
            gameData.visa -= game777.bet;
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–≥—Ä—É
            game777.active = true;
            game777.timeLeft = game777.timeLimit;
            game777.clicks = 0;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
            document.getElementById('game777Overlay').style.display = 'flex';
            document.getElementById('game777Timer').textContent = game777.timeLeft;
            document.getElementById('game777Clicks').textContent = '0';
            document.getElementById('game777Target').textContent = game777.target;
            document.getElementById('targetClicks').textContent = game777.target;
            document.getElementById('game777Time').textContent = game777.timeLimit;
            document.getElementById('targetTime').textContent = game777.timeLimit;
            document.getElementById('game777CloseBtn').style.display = 'none';
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä –µ—Å–ª–∏ –µ—Å—Ç—å
            if (game777.timer) {
                clearInterval(game777.timer);
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            game777.timer = setInterval(() => {
                game777.timeLeft--;
                document.getElementById('game777Timer').textContent = game777.timeLeft;
                
                if (game777.timeLeft <= 0) {
                    endGame777();
                }
            }, 1000);
            
            updateUI();
            showNotify(`üé∞ –£—Ä–æ–≤–µ–Ω—å ${gameData.game777Level}: ${game777.target} –∫–ª–∏–∫–æ–≤ –∑–∞ ${game777.timeLimit} —Å–µ–∫!`, 'warning');
        }

        function countGame777Click() {
            if (!game777.active) return;
            
            const clickArea = event.currentTarget;
            clickArea.style.transform = 'scale(0.9)';
            setTimeout(() => {
                clickArea.style.transform = 'scale(1)';
            }, 100);
            
            game777.clicks++;
            document.getElementById('game777Clicks').textContent = game777.clicks;
            
            const timer = document.getElementById('game777Timer');
            const clicksPerSecond = game777.clicks / (game777.timeLimit - game777.timeLeft);
            
            if (clicksPerSecond > 8) {
                timer.style.color = '#00ff88';
                timer.style.textShadow = '0 0 20px #00ff88';
            } else if (clicksPerSecond > 5) {
                timer.style.color = '#ffd700';
                timer.style.textShadow = '0 0 20px #ffd700';
            }
        }

        function endGame777() {
            if (!game777.active) return;
            
            clearInterval(game777.timer);
            game777.active = false;
            
            const btn = document.getElementById('game777CloseBtn');
            const text = document.getElementById('game777Text');
            
            if (game777.clicks >= game777.target) {
                // –ü–û–ë–ï–î–ê
                const winAmount = Math.floor(game777.bet * 3);
                gameData.visa += winAmount;
                gameData.game777Level++; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
                
                text.innerHTML = `üéâ –ü–û–ë–ï–î–ê! –¢—ã —Å–¥–µ–ª–∞–ª <span style="color:#00ff88">${game777.clicks}</span> –∫–ª–∏–∫–æ–≤!`;
                btn.textContent = `–ó–ê–ë–†–ê–¢–¨ ${winAmount} VISA`;
                btn.style.display = 'block';
                btn.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                
                showNotify(`üé∞ –ü–û–ë–ï–î–ê! +${winAmount} VISA! –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—ã—à–µ–Ω!`, 'success');
            } else {
                // –ü–û–†–ê–ñ–ï–ù–ò–ï
                text.innerHTML = `üò¢ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ... –¢—ã —Å–¥–µ–ª–∞–ª —Ç–æ–ª—å–∫–æ <span style="color:#e94560">${game777.clicks}</span> –∏–∑ ${game777.target} –∫–ª–∏–∫–æ–≤`;
                btn.textContent = '–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê';
                btn.style.display = 'block';
                btn.style.background = 'linear-gradient(135deg, #e94560, #ff2e63)';
                
                showNotify(`üé∞ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ... –ü–æ—Ç–µ—Ä—è–Ω–æ ${game777.bet} VISA`, 'error');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã
            updateGame777Difficulty();
            
            saveGame();
            updateUI();
        }

        function closeGame777() {
            document.getElementById('game777Overlay').style.display = 'none';
            game777.active = false;
            if (game777.timer) {
                clearInterval(game777.timer);
                game777.timer = null;
            }
        }

        // ======================
        // –ë–û–ù–£–°–ù–´–ï –ö–ù–û–ü–ö–ò
        // ======================
        function quickBonus() {
            const now = Date.now();
            if (now - gameData.lastBonusTime < 60000) {
                const secondsLeft = Math.ceil((60000 - (now - gameData.lastBonusTime)) / 1000);
                showNotify(`‚è≥ –ü–æ–¥–æ–∂–¥–∏ ${secondsLeft} —Å–µ–∫—É–Ω–¥`, 'warning');
                return;
            }
            
            const bonusAmount = 50 + Math.floor(Math.random() * 150);
            gameData.visa += bonusAmount;
            gameData.lastBonusTime = now;
            
            showNotify(`‚ö° –ë—ã—Å—Ç—Ä—ã–π –±–æ–Ω—É—Å: +${bonusAmount} VISA!`, 'success');
            saveGame();
            updateUI();
        }

        function buyEnergy() {
            const cost = 500;
            if (gameData.visa < cost) {
                showNotify(`‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA! –ù—É–∂–Ω–æ ${cost}`, 'error');
                return;
            }
            
            gameData.visa -= cost;
            gameData.energy = gameData.maxEnergy;
            
            showNotify(`üîã –≠–Ω–µ—Ä–≥–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞!`, 'success');
            saveGame();
            updateUI();
        }

        function dailyReward() {
            if (gameData.dailyRewardClaimed) {
                showNotify('üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–∞!', 'warning');
                return;
            }
            
            const streakDays = 1;
            const rewardAmount = 100 + (streakDays * 50);
            
            gameData.visa += rewardAmount;
            gameData.dailyRewardClaimed = true;
            
            showNotify(`üìÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞: +${rewardAmount} VISA! –ó–∞—Ö–æ–¥–∏ –∑–∞–≤—Ç—Ä–∞!`, 'success');
            saveGame();
            updateUI();
        }

        function specialOffer() {
            const offers = [
                { name: '–ü–∞–∫–µ—Ç –Ω–æ–≤–∏—á–∫–∞', visa: 500, energy: 50 },
                { name: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –Ω–∞–±–æ—Ä', visa: 1000, clickPower: 2 },
                { name: '–≠–ª–∏—Ç–Ω—ã–π –Ω–∞–±–æ—Ä', visa: 2000, chance: 0.01 }
            ];
            
            const offer = offers[Math.floor(Math.random() * offers.length)];
            
            let cost = 0;
            if (offer.visa <= 500) cost = 100;
            else if (offer.visa <= 1000) cost = 250;
            else cost = 500;
            
            if (gameData.visa < cost) {
                showNotify(`‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA! –ù—É–∂–Ω–æ ${cost}`, 'error');
                return;
            }
            
            gameData.visa -= cost;
            gameData.visa += offer.visa;
            
            if (offer.energy) gameData.energy = Math.min(gameData.maxEnergy, gameData.energy + offer.energy);
            if (offer.clickPower) gameData.clickPower += offer.clickPower;
            if (offer.chance) gameData.giftChance += offer.chance;
            
            showNotify(`üíé ${offer.name}: +${offer.visa} VISA –∏ –±–æ–Ω—É—Å—ã!`, 'success');
            saveGame();
            updateUI();
        }

        // ======================
        // –£–õ–£–ß–®–ï–ù–ò–Ø
        // ======================
        function buyUpgrade(type) {
            const upgrade = gameData.upgrades[type];
            
            if (gameData.visa < upgrade.cost) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA!', 'error');
                return;
            }
            
            gameData.visa -= upgrade.cost;
            
            switch(type) {
                case 'click':
                    gameData.clickPower += 2;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 1.8);
                    showNotify('üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞!', 'success');
                    break;
                    
                case 'energy':
                    gameData.maxEnergy += 20;
                    gameData.energy = gameData.maxEnergy;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 1.6);
                    showNotify('‚ö° –ú–∞–∫—Å. —ç–Ω–µ—Ä–≥–∏—è —É–≤–µ–ª–∏—á–µ–Ω–∞!', 'success');
                    break;
                    
                case 'chance':
                    gameData.giftChance += 0.002;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 2.2);
                    showNotify('üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω!', 'success');
                    break;
                    
                case 'regen':
                    gameData.energyRegen += 0.5;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 2.5);
                    showNotify('üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ —É—Å–∫–æ—Ä–µ–Ω–æ!', 'success');
                    break;
            }
            
            saveGame();
            updateUI();
        }

        // ======================
        // –ë–£–°–¢–´ –ò–ó –ú–ê–ì–ê–ó–ò–ù–ê
        // ======================
        function buyBoost(type) {
            let cost, duration;
            
            switch(type) {
                case 'click':
                    cost = 1000;
                    duration = 5 * 60 * 1000;
                    break;
                case 'chance':
                    cost = 2000;
                    duration = 10 * 60 * 1000;
                    break;
                case 'energy':
                    cost = 3000;
                    duration = 3 * 60 * 1000;
                    break;
                case 'reward':
                    cost = 5000;
                    duration = 15 * 60 * 1000;
                    break;
            }
            
            if (gameData.visa < cost) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA!', 'error');
                return;
            }
            
            gameData.visa -= cost;
            
            let multiplier = 2;
            if (type === 'energy') multiplier = 1;
            
            activateBoost(type, duration, multiplier);
            showNotify(`‚úÖ –ë—É—Å—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!`, 'success');
            
            saveGame();
            updateUI();
        }

        function activateBoost(type, duration, multiplier = 1) {
            gameData.boosts[type].active = true;
            gameData.boosts[type].endTime = Date.now() + duration;
            if (multiplier > 1) {
                gameData.boosts[type].multiplier = multiplier;
            }
            
            let boostName = '';
            switch(type) {
                case 'click': boostName = '–ë—É—Å—Ç —Å–∏–ª—ã'; break;
                case 'chance': boostName = '–ë—É—Å—Ç —à–∞–Ω—Å–∞'; break;
                case 'energy': boostName = '–ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏'; break;
                case 'reward': boostName = '–ë—É—Å—Ç –Ω–∞–≥—Ä–∞–¥'; break;
            }
            
            gameData.inventory.push({
                name: boostName,
                type: 'boost',
                endTime: Date.now() + duration
            });
            
            updateInventory();
        }

        function showComingSoon() {
            showNotify('üöÄ NFT-–ø–æ–¥–∞—Ä–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –±–ª–∏–∂–∞–π—à–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!', 'info');
        }

        // ======================
        // –ú–ò–°–°–ò–ò
        // ======================
        function updateMissions() {
            // –ö–ª–∏–∫–∏ 100
            if (gameData.totalClicks >= 100 && !gameData.missions.clicks100.completed) {
                gameData.missions.clicks100.completed = true;
            }
            
            // –ö–ª–∏–∫–∏ 500
            if (gameData.totalClicks >= 500 && !gameData.missions.clicks500.completed) {
                gameData.missions.clicks500.completed = true;
            }
            
            // –ö–ª–∏–∫–∏ 1000
            if (gameData.totalClicks >= 1000 && !gameData.missions.clicks1000.completed) {
                gameData.missions.clicks1000.completed = true;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            document.getElementById('mission1Progress').textContent = Math.min(gameData.totalClicks, 100) + '/100';
            document.getElementById('mission2Progress').textContent = Math.min(gameData.totalClicks, 500) + '/500';
            document.getElementById('mission3Progress').textContent = Math.min(gameData.totalClicks, 1000) + '/1000';
            
            const mission1Percent = Math.min((gameData.totalClicks / 100) * 100, 100);
            const mission2Percent = Math.min((gameData.totalClicks / 500) * 100, 100);
            const mission3Percent = Math.min((gameData.totalClicks / 1000) * 100, 100);
            
            document.getElementById('mission1Bar').style.width = mission1Percent + '%';
            document.getElementById('mission2Bar').style.width = mission2Percent + '%';
            document.getElementById('mission3Bar').style.width = mission3Percent + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã
            document.getElementById('mission1Btn').disabled = !gameData.missions.clicks100.completed || gameData.missions.clicks100.claimed;
            document.getElementById('mission2Btn').disabled = !gameData.missions.clicks500.completed || gameData.missions.clicks500.claimed;
            document.getElementById('mission3Btn').disabled = !gameData.missions.clicks1000.completed || gameData.missions.clicks1000.claimed;
            
            if (gameData.missions.clicks100.claimed) {
                document.getElementById('mission1Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
                document.getElementById('mission1Btn').disabled = true;
            }
            if (gameData.missions.clicks500.claimed) {
                document.getElementById('mission2Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
                document.getElementById('mission2Btn').disabled = true;
            }
            if (gameData.missions.clicks1000.claimed) {
                document.getElementById('mission3Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
                document.getElementById('mission3Btn').disabled = true;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å—ã Telegram –∏ —Ä–µ–∞–∫—Ü–∏–π
            if (gameData.missions.telegram.claimed) {
                document.getElementById('telegramStatus').textContent = '‚úÖ –í–´–ü–û–õ–ù–ï–ù–û';
                document.getElementById('telegramStatus').className = 'mission-completed';
                document.getElementById('telegramBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
                document.getElementById('telegramBtn').disabled = true;
            }
            
            if (gameData.missions.reaction.claimed) {
                document.getElementById('reactionStatus').textContent = '‚úÖ –í–´–ü–û–õ–ù–ï–ù–û';
                document.getElementById('reactionStatus').className = 'mission-completed';
                document.getElementById('reactionBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
                document.getElementById('reactionBtn').disabled = true;
            }
        }

        function claimMission(missionNum) {
            let reward;
            
            switch(missionNum) {
                case 1:
                    if (gameData.missions.clicks100.claimed) return;
                    reward = 100;
                    gameData.missions.clicks100.claimed = true;
                    break;
                case 2:
                    if (gameData.missions.clicks500.claimed) return;
                    reward = 500;
                    gameData.missions.clicks500.claimed = true;
                    break;
                case 3:
                    if (gameData.missions.clicks1000.claimed) return;
                    reward = 1000;
                    gameData.missions.clicks1000.claimed = true;
                    break;
            }
            
            gameData.visa += reward;
            showNotify(`üéâ –ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! +${reward} VISA`, 'success');
            
            saveGame();
            updateUI();
            updateMissions();
        }

        function completeTelegramMission() {
            if (gameData.missions.telegram.claimed) return;
            
            gameData.missions.telegram.completed = true;
            gameData.missions.telegram.claimed = true;
            gameData.visa += 500;
            
            document.getElementById('telegramBtn').disabled = true;
            document.getElementById('telegramBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
            document.getElementById('telegramStatus').textContent = '‚úÖ –í–´–ü–û–õ–ù–ï–ù–û';
            document.getElementById('telegramStatus').className = 'mission-completed';
            
            showNotify('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞! +500 VISA', 'success');
            
            saveGame();
            updateUI();
        }

        function completeReactionMission() {
            if (gameData.missions.reaction.claimed) return;
            
            gameData.missions.reaction.completed = true;
            gameData.missions.reaction.claimed = true;
            gameData.visa += 300;
            
            document.getElementById('reactionBtn').disabled = true;
            document.getElementById('reactionBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
            document.getElementById('reactionStatus').textContent = '‚úÖ –í–´–ü–û–õ–ù–ï–ù–û';
            document.getElementById('reactionStatus').className = 'mission-completed';
            
            showNotify('‚úÖ –†–µ–∞–∫—Ü–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞! +300 VISA', 'success');
            
            saveGame();
            updateUI();
        }

        // ======================
        // –ö–û–õ–ï–°–û –§–û–†–¢–£–ù–´
        // ======================
        function spinWheel() {
            if (gameData.wheelAttempts <= 0) {
                showNotify('‚ùå –ù–µ—Ç –ø–æ–ø—ã—Ç–æ–∫! –ü–æ–ø—Ä–æ–±—É–π –∑–∞–≤—Ç—Ä–∞', 'error');
                return;
            }
            
            if (gameData.visa < 100) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA –¥–ª—è —Å–ø–∏–Ω–∞!', 'error');
                return;
            }
            
            gameData.visa -= 100;
            gameData.wheelAttempts--;
            
            const wheel = document.getElementById('fortuneWheel');
            const spinBtn = document.getElementById('spinBtn');
            
            wheel.classList.remove('wheel-spin');
            void wheel.offsetWidth;
            wheel.classList.add('wheel-spin');
            
            spinBtn.disabled = true;
            spinBtn.textContent = '–í–†–ê–©–ê–ï–¢–°–Ø...';
            
            setTimeout(() => {
                const prizes = [
                    { type: 'visa', amount: 500, name: '500 VISA' },
                    { type: 'visa', amount: 1000, name: '1000 VISA' },
                    { type: 'boost', name: '–ë—É—Å—Ç —Å–∏–ª—ã' },
                    { type: 'boost', name: '–ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏' },
                    { type: 'boost', name: '–ë—É—Å—Ç –Ω–∞–≥—Ä–∞–¥' },
                    { type: 'rare', name: '–†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç' }
                ];
                
                const prize = prizes[Math.floor(Math.random() * prizes.length)];
                
                if (prize.type === 'visa') {
                    gameData.visa += prize.amount;
                    showNotify(`üé° –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${prize.name}!`, 'success');
                } else if (prize.type === 'boost') {
                    gameData.inventory.push({
                        name: prize.name,
                        type: 'boost',
                        endTime: Date.now() + (30 * 60 * 1000)
                    });
                    showNotify(`üé° –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${prize.name}!`, 'success');
                    updateInventory();
                } else {
                    gameData.inventory.push({
                        name: '–†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç —Å –∫–æ–ª–µ—Å–∞',
                        type: 'rare',
                        value: 1000
                    });
                    showNotify(`üé° –£–î–ê–ß–ê! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ —Ä–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç!`, 'success');
                    updateInventory();
                }
                
                wheel.classList.remove('wheel-spin');
                spinBtn.disabled = false;
                spinBtn.textContent = `–ö–†–£–¢–ò–¢–¨ (100 VISA)`;
                
                document.getElementById('wheelAttempts').textContent = gameData.wheelAttempts;
                
                saveGame();
                updateUI();
                
            }, 5000);
        }

        // ======================
        // –ò–ù–í–ï–ù–¢–ê–†–¨
        // ======================
        function updateInventory() {
            const grid = document.getElementById('inventoryGrid');
            
            const allItems = [...gameData.inventory];
            
            if (allItems.length === 0) {
                grid.innerHTML = `
                    <div class="inventory-item" id="emptyInventory" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                        <div class="inventory-icon">üì¶</div>
                        <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                        <div style="font-size: 12px; margin-top: 5px;">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–∏</div>
                    </div>
                `;
                document.getElementById('itemsCount').textContent = '0';
                return;
            }
            
            grid.innerHTML = '';
            
            allItems.forEach((item, index) => {
                let icon = 'üéÅ';
                if (item.type === 'boost') icon = '‚ö°';
                if (item.type === 'rare') icon = 'üëë';
                
                const itemDiv = document.createElement('div');
                itemDiv.className = 'inventory-item';
                
                let timeLeft = '';
                if (item.endTime) {
                    const remaining = item.endTime - Date.now();
                    if (remaining > 0) {
                        const minutes = Math.floor(remaining / 60000);
                        timeLeft = `${minutes} –º–∏–Ω`;
                    }
                }
                
                itemDiv.innerHTML = `
                    <div class="inventory-icon">${icon}</div>
                    <div style="font-weight: bold; font-size: 14px;">${item.name}</div>
                    ${timeLeft ? `<div style="font-size: 10px; color: #00ff88;">${timeLeft}</div>` : 
                      item.value ? `<div style="font-size: 12px; opacity: 0.8;">${item.value} VISA</div>` : 
                      '<div style="font-size: 12px; opacity: 0.8;">–û—Å–æ–±—ã–π</div>'}
                `;
                
                grid.appendChild(itemDiv);
            });
            
            document.getElementById('itemsCount').textContent = allItems.length;
        }

        // ======================
        // –£–†–û–í–ï–ù–¨
        // ======================
        function levelUp() {
            gameData.level++;
            gameData.xp = 0;
            gameData.xpNeeded = Math.floor(gameData.xpNeeded * 1.3);
            
            const levelReward = gameData.level * 100;
            gameData.visa += levelReward;
            
            showNotify(`üéâ –£—Ä–æ–≤–µ–Ω—å ${gameData.level}! +${levelReward} VISA`, 'success');
        }

        // ======================
        // –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –≠–ù–ï–†–ì–ò–ò
        // ======================
        function updateEnergy() {
            const now = Date.now();
            const timeDiff = (now - gameData.lastEnergyUpdate) / 1000; // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            
            if (timeDiff >= 1) {
                const energyGain = timeDiff * gameData.energyRegen;
                if (energyGain > 0) {
                    gameData.energy = Math.min(gameData.maxEnergy, gameData.energy + energyGain);
                    gameData.lastEnergyUpdate = now;
                }
            }
        }

        // ======================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–£–°–¢–û–í
        // ======================
        function updateBoosts() {
            const now = Date.now();
            
            Object.keys(gameData.boosts).forEach(key => {
                if (gameData.boosts[key].active && now >= gameData.boosts[key].endTime) {
                    gameData.boosts[key].active = false;
                    showNotify(`‚è∞ –ë—É—Å—Ç "${key}" –∑–∞–∫–æ–Ω—á–∏–ª—Å—è`, 'warning');
                }
            });
            
            gameData.inventory = gameData.inventory.filter(item => {
                if (item.type === 'boost' && item.endTime) {
                    return now < item.endTime;
                }
                return true;
            });
            
            updateInventory();
        }

        // ======================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê
        // ======================
        function updateUI() {
            // –ù–∏–∫–Ω–µ–π–º
            document.getElementById('displayUsername').textContent = gameData.username;
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('visaCount').textContent = Math.floor(gameData.visa);
            document.getElementById('levelCount').textContent = gameData.level;
            document.getElementById('clicksCount').textContent = gameData.totalClicks;
            document.getElementById('energyCount').textContent = Math.floor(gameData.energy);
            
            // –ü—Ä–æ–≥—Ä–µ—Å—Å
            const xpPercent = (gameData.xp / gameData.xpNeeded) * 100;
            document.getElementById('xpBar').style.width = xpPercent + '%';
            document.getElementById('xpText').textContent = `${Math.floor(gameData.xp)}/${gameData.xpNeeded}`;
            
            // –≠–Ω–µ—Ä–≥–∏—è
            const energyPercent = (gameData.energy / gameData.maxEnergy) * 100;
            document.getElementById('energyBar').style.width = energyPercent + '%';
            document.getElementById('energyText').textContent = `${Math.floor(gameData.energy)}/${Math.floor(gameData.maxEnergy)}`;
            
            // –ó–Ω–∞—á–µ–Ω–∏—è
            let power = gameData.clickPower;
            if (gameData.boosts.click.active) {
                power *= gameData.boosts.click.multiplier;
                document.getElementById('powerValue').innerHTML = `x${power} <span style="color:#00ff88; font-size:12px;">(–ë–£–°–¢!)</span>`;
            } else {
                document.getElementById('powerValue').textContent = `x${power}`;
            }
            
            let chance = gameData.giftChance * 100;
            if (gameData.boosts.chance.active) {
                chance *= gameData.boosts.chance.multiplier;
                document.getElementById('chanceValue').innerHTML = `${chance.toFixed(2)}% <span style="color:#00ff88; font-size:12px;">(–ë–£–°–¢!)</span>`;
            } else {
                document.getElementById('chanceValue').textContent = `${chance.toFixed(2)}%`;
            }
            
            document.getElementById('clickPower').textContent = gameData.clickPower;
            document.getElementById('maxEnergy').textContent = Math.floor(gameData.maxEnergy);
            document.getElementById('giftChanceValue').textContent = (gameData.giftChance * 100).toFixed(2) + '%';
            document.getElementById('energyPerClick').textContent = gameData.energyCost.toFixed(1);
            document.getElementById('energyRegen').textContent = gameData.energyRegen.toFixed(1) + '/—Å–µ–∫';
            document.getElementById('regenSpeed').textContent = gameData.energyRegen.toFixed(1) + '/—Å–µ–∫';
            
            // –ö–Ω–æ–ø–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
            document.getElementById('clickBtn').textContent = gameData.upgrades.click.cost + ' VISA';
            document.getElementById('energyBtn').textContent = gameData.upgrades.energy.cost + ' VISA';
            document.getElementById('chanceBtn').textContent = gameData.upgrades.chance.cost + ' VISA';
            document.getElementById('regenBtn').textContent = gameData.upgrades.regen.cost + ' VISA';
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∫—É–ø–∫–∏
            document.getElementById('clickBtn').disabled = gameData.visa < gameData.upgrades.click.cost;
            document.getElementById('energyBtn').disabled = gameData.visa < gameData.upgrades.energy.cost;
            document.getElementById('chanceBtn').disabled = gameData.visa < gameData.upgrades.chance.cost;
            document.getElementById('regenBtn').disabled = gameData.visa < gameData.upgrades.regen.cost;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–≤–∫–∏ –¥–ª—è –∏–≥—Ä—ã 777
            const start777Btn = document.getElementById('start777Btn');
            if (gameData.visa < game777.bet) {
                start777Btn.disabled = true;
                start777Btn.style.opacity = '0.5';
            } else {
                start777Btn.disabled = false;
                start777Btn.style.opacity = '1';
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–π—Ü–∞
            const eggBtn = document.getElementById('eggBtn');
            if (gameData.eggBought) {
                eggBtn.disabled = true;
                eggBtn.textContent = '–ö–£–ü–õ–ï–ù–û';
                eggBtn.style.background = '#666';
            } else if (gameData.visa < 1250) {
                eggBtn.disabled = true;
                eggBtn.style.opacity = '0.5';
            } else {
                eggBtn.disabled = false;
                eggBtn.style.opacity = '1';
            }
        }

        // ======================
        // –°–ú–ï–ù–ê –≠–ö–†–ê–ù–û–í
        // ======================
        function showScreen(screen) {
            const screens = ['clicker', 'missions', 'shop', 'inventory', 'wheel'];
            
            screens.forEach(s => {
                const element = document.getElementById(s + 'Screen');
                if (element) element.style.display = 'none';
            });
            
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(screen + 'Screen').style.display = 'block';
            
            const btnIndex = screens.indexOf(screen);
            document.querySelectorAll('.menu-btn')[btnIndex].classList.add('active');
            
            if (screen === 'clicker') {
                updateUI();
            } else if (screen === 'missions') {
                updateMissions();
            } else if (screen === 'inventory') {
                updateInventory();
                updatePetsInventory();
            }
        }

        // ======================
        // –°–û–•–†–ê–ù–ï–ù–ò–ï/–ó–ê–ì–†–£–ó–ö–ê
        // ======================
        function saveGame() {
            try {
                localStorage.setItem('visaclicker_game_data', JSON.stringify(gameData));
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
            }
        }

        function loadGame() {
            try {
                const saved = localStorage.getItem('visaclicker_game_data');
                if (saved) {
                    const loaded = JSON.parse(saved);
                    gameData = { ...gameData, ...loaded };
                    return true;
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', e);
            }
            return false;
        }

        // ======================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ======================
        window.onload = function() {
            loadGame();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã 777
            updateGame777Difficulty();
            
            updateUI();
            updateMissions();
            updateInventory();
            updatePetsInventory();
            updatePets();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ –∏ –±—É—Å—Ç–æ–≤
            setInterval(() => {
                updateEnergy();
                updateBoosts();
                updateUI();
                saveGame();
            }, 1000);
            
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
            setInterval(() => {
                gameData.wheelAttempts = 3;
                showNotify('üé° –ü–æ–ø—ã—Ç–∫–∏ –Ω–∞ –∫–æ–ª–µ—Å–µ —Ñ–æ—Ä—Ç—É–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!', 'success');
            }, 24 * 60 * 60 * 1000);
            
            // –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥
            setInterval(() => {
                const today = new Date().toDateString();
                const lastPlayed = localStorage.getItem('visaclicker_last_play_date');
                if (lastPlayed !== today) {
                    gameData.dailyRewardClaimed = false;
                    localStorage.setItem('visaclicker_last_play_date', today);
                }
            }, 60000);
            
            setTimeout(() => {
                showNotify('üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ VISA CLICKER!', 'success');
            }, 1000);
        };

        // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.gameData = gameData;
    </script>
</body>
</html>
