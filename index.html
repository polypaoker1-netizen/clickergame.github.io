<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VISA CLICKER</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: white;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        
        /* –®–∞–ø–∫–∞ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255,255,255,0.08);
            padding: 18px 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo {
            font-size: 26px;
            font-weight: bold;
            background: linear-gradient(45deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(233, 69, 96, 0.3);
        }
        
        .user-info {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(15, 52, 96, 0.3);
            padding: 8px 15px;
            border-radius: 25px;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.08);
            padding: 18px 15px;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.05);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            background: rgba(255,255,255,0.12);
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #ffd700;
            margin: 8px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .stat-label {
            font-size: 13px;
            opacity: 0.8;
            letter-spacing: 0.5px;
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä—ã */
        .progress-container {
            background: rgba(255,255,255,0.08);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin: 10px 0 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 10px;
            position: relative;
            transition: width 0.5s ease;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.3) 50%, 
                transparent 100%);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .xp-bar { 
            background: linear-gradient(90deg, #00b894, #00cec9); 
        }
        .energy-bar { 
            background: linear-gradient(90deg, #fdcb6e, #e17055); 
        }
        
        /* –ö–ª–∏–∫–µ—Ä */
        .clicker {
            text-align: center;
            margin: 25px 0;
        }
        
        .click-area {
            width: 220px;
            height: 220px;
            background: radial-gradient(circle, #e94560, #c44569, #ff4757);
            border-radius: 50%;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 60px rgba(233,69,96,0.6),
                        inset 0 0 40px rgba(255,255,255,0.1);
            transition: all 0.1s;
            user-select: none;
            position: relative;
            overflow: hidden;
        }
        
        .click-area::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, 
                rgba(255,255,255,0.1) 0%, 
                transparent 70%);
            transform: rotate(0deg);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            to { transform: rotate(360deg); }
        }
        
        .click-area:active {
            transform: scale(0.92);
            box-shadow: 0 0 40px rgba(233,69,96,0.8);
        }
        
        .click-info {
            margin-top: 20px;
            background: rgba(255,255,255,0.08);
            padding: 15px;
            border-radius: 12px;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
        .click-effect {
            position: absolute;
            width: 50px;
            height: 50px;
            pointer-events: none;
            background: radial-gradient(circle, rgba(255,215,0,0.8), transparent);
            border-radius: 50%;
            animation: clickBurst 0.5s forwards;
            z-index: 100;
        }
        
        @keyframes clickBurst {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        /* –ü–æ–¥–∞—Ä–∫–∏ */
        .gift {
            position: fixed;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, gold, orange);
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            z-index: 100;
            box-shadow: 0 0 30px gold;
            animation: float 3s infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        /* –ò–≥—Ä–∞ 777 */
        .game-777 {
            background: linear-gradient(145deg, rgba(121, 40, 202, 0.2), rgba(41, 128, 185, 0.2));
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 2px solid rgba(155, 89, 182, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .game-777::before {
            content: 'üé∞';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            opacity: 0.3;
        }
        
        .bet-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }
        
        .bet-btn {
            flex: 1;
            padding: 12px;
            background: rgba(155, 89, 182, 0.3);
            border: 2px solid #9b59b6;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .bet-btn:hover {
            background: rgba(155, 89, 182, 0.5);
            transform: translateY(-2px);
        }
        
        .bet-btn.active {
            background: #9b59b6;
            box-shadow: 0 0 15px rgba(155, 89, 182, 0.5);
        }
        
        .game-777-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .game-777-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(155, 89, 182, 0.4);
        }
        
        .game-777-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        /* –û–≤–µ—Ä–ª–µ–π –∏–≥—Ä—ã 777 */
        .game777-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .game777-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            width: 90%;
            max-width: 450px;
            border: 3px solid #9b59b6;
            box-shadow: 0 0 40px rgba(155, 89, 182, 0.3);
        }
        
        .challenge-timer {
            font-size: 48px;
            font-weight: bold;
            color: #00ff88;
            margin: 20px 0;
            text-shadow: 0 0 20px #00ff88;
        }
        
        .challenge-clicks {
            font-size: 36px;
            color: #ffd700;
            margin: 15px 0;
        }
        
        .challenge-target {
            font-size: 24px;
            color: #e94560;
            margin-bottom: 20px;
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #e94560, #ff2e63);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            z-index: 1001;
            animation: slideInRight 0.3s, fadeOut 0.3s 2.7s;
            display: none;
            font-weight: bold;
            max-width: 300px;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.3);
            border-left: 5px solid #ffd700;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            to { opacity: 0; }
        }
        
        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .bottom-menu {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            background: rgba(255,255,255,0.08);
            padding: 15px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            z-index: 100;
        }
        
        .menu-btn {
            padding: 12px 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            min-width: 70px;
            justify-content: center;
        }
        
        .menu-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-3px);
        }
        
        .menu-btn.active {
            background: linear-gradient(135deg, #e94560, #ff2e63);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.3);
        }
        
        /* –°–µ–∫—Ü–∏–∏ */
        .section {
            background: rgba(255,255,255,0.08);
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0 100px 0;
            display: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏—è */
        .upgrade-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .upgrade-item:hover {
            background: rgba(255,255,255,0.08);
            transform: translateX(5px);
        }
        
        .upgrade-btn {
            background: linear-gradient(135deg, #e94560, #ff2e63);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upgrade-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.3);
        }
        
        .upgrade-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        /* –ú–∏—Å—Å–∏–∏ */
        .mission-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
        }
        
        .mission-progress {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .mission-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #00cec9);
            border-radius: 4px;
            transition: width 0.5s;
        }
        
        /* –ú–∞–≥–∞–∑–∏–Ω */
        .shop-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .shop-icon {
            font-size: 32px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(233, 69, 96, 0.2);
            border-radius: 12px;
        }
        
        /* –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .inventory-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .inventory-item:hover {
            background: rgba(255,255,255,0.08);
            transform: translateY(-3px);
        }
        
        .inventory-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        /* –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã */
        .wheel-container {
            text-align: center;
            padding: 30px 0;
        }
        
        .wheel {
            width: 250px;
            height: 250px;
            margin: 0 auto 30px;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            background: conic-gradient(
                #e94560 0deg 60deg,
                #00b894 60deg 120deg,
                #9b59b6 120deg 180deg,
                #ffd700 180deg 240deg,
                #3498db 240deg 300deg,
                #2ecc71 300deg 360deg
            );
            animation: wheelIdle 20s linear infinite;
        }
        
        @keyframes wheelIdle {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .wheel-spin {
            animation: wheelSpin 5s cubic-bezier(0.3, 0.7, 0.4, 1) forwards;
        }
        
        @keyframes wheelSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(3600deg); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 600px) {
            .bottom-menu {
                width: 95%;
                overflow-x: auto;
                padding: 12px;
            }
            
            .menu-btn {
                padding: 10px 15px;
                font-size: 12px;
                min-width: 60px;
            }
            
            .click-area {
                width: 200px;
                height: 200px;
                font-size: 22px;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- –û–≤–µ—Ä–ª–µ–π –∏–≥—Ä—ã 777 -->
    <div id="game777Overlay" class="game777-overlay">
        <div class="game777-content">
            <h2>üé∞ –ò–ì–†–ê 777</h2>
            <p id="game777Text">–°–¥–µ–ª–∞–π –±–æ–ª–µ–µ <span id="targetClicks">50</span> –∫–ª–∏–∫–æ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!</p>
            <div class="challenge-timer" id="game777Timer">10</div>
            <div class="challenge-clicks">–ö–ª–∏–∫–æ–≤: <span id="game777Clicks">0</span></div>
            <div class="challenge-target">–¶–µ–ª—å: <span id="game777Target">50</span></div>
            <div style="margin: 25px 0;">
                <div class="click-area" style="width: 150px; height: 150px; margin: 0 auto;" onclick="countGame777Click()">
                    –ñ–ú–ò!
                </div>
            </div>
            <button class="modal-btn" onclick="closeGame777()" id="game777CloseBtn" style="display: none;">
                –ó–ê–ë–†–ê–¢–¨ –í–´–ò–ì–†–´–®
            </button>
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>
    
    <!-- –ü–æ–¥–∞—Ä–æ–∫ -->
    <div class="gift" id="gift" onclick="collectGift()">üéÅ</div>
    
    <!-- –ò–≥—Ä–∞ -->
    <div id="gameInterface" class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="logo">VISA CLICKER</div>
            <div class="user-info">
                üë§ <span id="displayUsername">–ò–≥—Ä–æ–∫</span>
            </div>
        </div>
        
        <!-- –ö–ª–∏–∫–µ—Ä -->
        <div id="clickerScreen" class="screen" style="display: block;">
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">VISA</div>
                    <div class="stat-value" id="visaCount">50</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–£–†–û–í–ï–ù–¨</div>
                    <div class="stat-value" id="levelCount">1</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ö–õ–ò–ö–û–í</div>
                    <div class="stat-value" id="clicksCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–≠–ù–ï–†–ì–ò–Ø</div>
                    <div class="stat-value" id="energyCount">50</div>
                </div>
            </div>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
            <div class="progress-container">
                <div style="margin-bottom: 5px; display: flex; justify-content: space-between;">
                    <span>üéØ –£—Ä–æ–≤–µ–Ω—å</span>
                    <span id="xpText">0/100</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill xp-bar" id="xpBar" style="width: 0%"></div>
                </div>
                
                <div style="margin: 15px 0 5px; display: flex; justify-content: space-between;">
                    <span>‚ö° –≠–Ω–µ—Ä–≥–∏—è</span>
                    <span id="energyText">50/50</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill energy-bar" id="energyBar" style="width: 100%"></div>
                </div>
            </div>
            
            <!-- –ò–≥—Ä–∞ 777 -->
            <div class="game-777">
                <h3 style="margin-bottom: 15px; color: #9b59b6;">üé∞ –ò–ì–†–ê 777</h3>
                <p style="margin-bottom: 15px; font-size: 14px; opacity: 0.9;">
                    –°–¥–µ–ª–∞–π —Å—Ç–∞–≤–∫—É –∏ –ø–æ–ø—Ä–æ–±—É–π —Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ 50 –∫–ª–∏–∫–æ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!
                    –í—ã–∏–≥—Ä—ã—à: x2.5 –æ—Ç —Å—Ç–∞–≤–∫–∏!
                </p>
                
                <div style="margin-bottom: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>–°—Ç–∞–≤–∫–∞:</span>
                        <span id="currentBet">1000</span> VISA
                    </div>
                    <div class="bet-controls">
                        <button class="bet-btn" onclick="setBet(500)">500</button>
                        <button class="bet-btn active" onclick="setBet(1000)">1000</button>
                        <button class="bet-btn" onclick="setBet(2500)">2500</button>
                        <button class="bet-btn" onclick="setBet(5000)">5000</button>
                    </div>
                </div>
                
                <button class="game-777-btn" onclick="startGame777()" id="start777Btn">
                    –ò–ì–†–ê–¢–¨ (<span id="betAmount">1000</span> VISA)
                </button>
            </div>
            
            <!-- –ö–ª–∏–∫–µ—Ä -->
            <div class="clicker">
                <div class="click-area" onclick="handleClick(event)" id="clickArea">
                    –ö–õ–ò–ö–ê–ô!
                </div>
                <div class="click-info">
                    <div>üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞: <span id="powerValue" style="color: #00ff88;">x5</span></div>
                    <div>üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞: <span id="chanceValue" style="color: gold;">0.5%</span></div>
                    <div>‚ö° –≠–Ω–µ—Ä–≥–∏—è/–∫–ª–∏–∫: <span id="energyPerClick">0.1</span></div>
                    <div>üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: <span id="energyRegen">1/–º–∏–Ω</span></div>
                </div>
            </div>
            
            <!-- –£–ª—É—á—à–µ–Ω–∏—è -->
            <div class="upgrades" style="margin-top: 25px;">
                <h3 style="margin-bottom: 20px; color: #e94560;">‚ö° –£–õ–£–ß–®–ï–ù–ò–Ø</h3>
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–∞—è: x<span id="clickPower">5</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('click')" id="clickBtn">
                        500 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">‚ö° –≠–Ω–µ—Ä–≥–∏—è</div>
                        <div style="font-size: 13px; opacity: 0.8;">–ú–∞–∫—Å: <span id="maxEnergy">50</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('energy')" id="energyBtn">
                        800 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–∏–π: <span id="giftChanceValue">0.5%</span></div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('chance')" id="chanceBtn">
                        1200 VISA
                    </button>
                </div>
                
                <div class="upgrade-item">
                    <div>
                        <div style="font-weight: bold; font-size: 16px;">üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</div>
                        <div style="font-size: 13px; opacity: 0.8;">–¢–µ–∫—É—â–µ–µ: <span id="regenSpeed">1</span>/–º–∏–Ω</div>
                    </div>
                    <button class="upgrade-btn" onclick="buyUpgrade('regen')" id="regenBtn">
                        1500 VISA
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –ú–∏—Å—Å–∏–∏ -->
        <div id="missionsScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #00b894;">üéØ –ú–ò–°–°–ò–ò</h3>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 100 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission1Progress">0/100</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission1Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(1)" id="mission1Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 100 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 500 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission2Progress">0/500</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission2Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(2)" id="mission2Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 500 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üéØ –°–¥–µ–ª–∞–π 1000 –∫–ª–∏–∫–æ–≤</span>
                    <span id="mission3Progress">0/1000</span>
                </div>
                <div class="mission-progress">
                    <div class="mission-progress-fill" id="mission3Bar" style="width: 0%"></div>
                </div>
                <button class="upgrade-btn" onclick="claimMission(3)" id="mission3Btn" disabled style="width: 100%; margin-top: 10px;">
                    –ó–∞–±—Ä–∞—Ç—å 1000 VISA
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üîî –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª</span>
                    <span>‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                </div>
                <button class="upgrade-btn" onclick="completeTelegramMission()" id="telegramBtn" style="width: 100%; margin-top: 10px;">
                    –ü–û–î–ü–ò–°–ê–¢–¨–°–Ø (+500 VISA)
                </button>
            </div>
            
            <div class="mission-item">
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                    <span>üëç –ü–æ—Å—Ç–∞–≤—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –ø–æ—Å—Ç</span>
                    <span>‚ùå –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                </div>
                <button class="upgrade-btn" onclick="completeReactionMission()" id="reactionBtn" style="width: 100%; margin-top: 10px;">
                    –ü–û–°–¢–ê–í–ò–¢–¨ –†–ï–ê–ö–¶–ò–Æ (+300 VISA)
                </button>
            </div>
        </div>
        
        <!-- –ú–∞–≥–∞–∑–∏–Ω -->
        <div id="shopScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #9b59b6;">üè™ –ú–ê–ì–ê–ó–ò–ù –ë–£–°–¢–û–í</h3>
            
            <div class="shop-item">
                <div class="shop-icon">‚ö°</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –°–∏–ª–∞ –∫–ª–∏–∫–∞</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 5 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('click')">
                    1000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üéÅ</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 10 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('chance')">
                    2000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üîã</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">–ë–µ—Å–∫. —ç–Ω–µ—Ä–≥–∏—è</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 3 –º–∏–Ω—É—Ç—ã</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('energy')">
                    3000 VISA
                </button>
            </div>
            
            <div class="shop-item">
                <div class="shop-icon">üí∞</div>
                <div style="flex: 1;">
                    <div style="font-weight: bold; font-size: 16px;">x2 –ù–∞–≥—Ä–∞–¥—ã</div>
                    <div style="font-size: 13px; opacity: 0.8;">–ù–∞ 15 –º–∏–Ω—É—Ç</div>
                </div>
                <button class="upgrade-btn" onclick="buyBoost('reward')">
                    5000 VISA
                </button>
            </div>
        </div>
        
        <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
        <div id="inventoryScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #ffd700;">üéí –ò–ù–í–ï–ù–¢–ê–†–¨</h3>
            
            <div id="inventoryGrid" class="inventory-grid">
                <!-- –ë—É—Å—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                <div class="inventory-item" id="emptyInventory" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                    <div class="inventory-icon">üì¶</div>
                    <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                    <div style="font-size: 12px; margin-top: 5px;">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–∏</div>
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,215,0,0.1); border-radius: 12px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: bold;">–†–µ–¥–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã:</div>
                        <div style="font-size: 13px; opacity: 0.8;">–ó–æ–ª–æ—Ç–æ–π –∫–ª–∏–∫–µ—Ä, –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç–æ–≤–∞—è —ç–Ω–µ—Ä–≥–∏—è</div>
                    </div>
                    <div id="rareItemsCount" style="font-size: 24px; color: #ffd700;">0</div>
                </div>
            </div>
        </div>
        
        <!-- –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã -->
        <div id="wheelScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #3498db;">üé° –ö–û–õ–ï–°–û –§–û–†–¢–£–ù–´</h3>
            
            <div class="wheel-container">
                <div class="wheel" id="fortuneWheel"></div>
                <div style="margin: 20px 0;">
                    <div style="font-size: 18px; margin-bottom: 10px;">–ü–æ–ø—ã—Ç–æ–∫: <span id="wheelAttempts">3</span></div>
                    <div style="font-size: 14px; opacity: 0.8; margin-bottom: 20px;">
                        –ö—Ä—É—Ç–∏ –∫–æ–ª–µ—Å–æ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞–π –ø—Ä–∏–∑—ã!<br>
                        –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
                    </div>
                    <button class="modal-btn" onclick="spinWheel()" id="spinBtn" style="width: 200px;">
                        –ö–†–£–¢–ò–¢–¨ (100 VISA)
                    </button>
                </div>
                
                <div style="margin-top: 30px; padding: 15px; background: rgba(52, 152, 219, 0.1); border-radius: 12px;">
                    <div style="font-weight: bold; margin-bottom: 10px;">–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏–∑—ã:</div>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 13px;">
                        <div>üéÅ 500-1000 VISA</div>
                        <div>‚ö° –ë—É—Å—Ç —Å–∏–ª—ã</div>
                        <div>üîã –ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏</div>
                        <div>üí∞ x2 –ù–∞–≥—Ä–∞–¥—ã</div>
                        <div>üëë –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç</div>
                        <div>üíé 5000 VISA</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –¢–æ–ø -->
        <div id="topScreen" class="section">
            <h3 style="margin-bottom: 20px; color: #e94560;">üèÜ –¢–û–ü –ò–ì–†–û–ö–û–í</h3>
            
            <div style="margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <button class="menu-btn" onclick="showTop('daily')" id="dailyTopBtn" style="flex: 1;">üìÖ –ó–∞ –¥–µ–Ω—å</button>
                    <button class="menu-btn active" onclick="showTop('all')" id="allTopBtn" style="flex: 1;">üèÜ –í—Å–µ –≤—Ä–µ–º—è</button>
                    <button class="menu-btn" onclick="showTop('friends')" id="friendsTopBtn" style="flex: 1;">üë• –î—Ä—É–∑—å—è</button>
                </div>
            </div>
            
            <div id="topList">
                <!-- –¢–æ–ø –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                <div style="text-align: center; padding: 40px 0; opacity: 0.5;">
                    <div style="font-size: 48px; margin-bottom: 20px;">üëë</div>
                    <div>–¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤</div>
                    <div style="font-size: 13px; margin-top: 5px;">–ë—É–¥—å –ø–µ—Ä–≤—ã–º –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ!</div>
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(233, 69, 96, 0.1); border-radius: 12px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-weight: bold;">–¢–≤–æ—è –ø–æ–∑–∏—Ü–∏—è:</div>
                        <div style="font-size: 13px; opacity: 0.8;">–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç</div>
                    </div>
                    <div id="playerRank" style="font-size: 24px; color: #ffd700;">#1</div>
                </div>
            </div>
        </div>
        
        <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
        <div class="bottom-menu">
            <button class="menu-btn active" onclick="showScreen('clicker')">
                üéÆ –ò–≥—Ä–∞
            </button>
            <button class="menu-btn" onclick="showScreen('missions')">
                üéØ –ú–∏—Å—Å–∏–∏
            </button>
            <button class="menu-btn" onclick="showScreen('shop')">
                üè™ –ú–∞–≥–∞–∑–∏–Ω
            </button>
            <button class="menu-btn" onclick="showScreen('inventory')">
                üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
            </button>
            <button class="menu-btn" onclick="showScreen('wheel')">
                üé° –§–æ—Ä—Ç—É–Ω–∞
            </button>
            <button class="menu-btn" onclick="showScreen('top')">
                üèÜ –¢–æ–ø
            </button>
        </div>
    </div>

    <script>
        // ======================
        // –ò–ì–†–û–í–´–ï –î–ê–ù–ù–´–ï
        // ======================
        let gameData = {
            username: 'TelegramUser', // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            visa: 50,
            level: 1,
            xp: 0,
            xpNeeded: 100,
            energy: 50,
            maxEnergy: 50,
            totalClicks: 0,
            giftsCollected: 0,
            clickPower: 5,
            giftChance: 0.005, // 0.5%
            energyCost: 0.1,
            energyRegen: 1,
            upgrades: {
                click: { level: 1, cost: 500 },
                energy: { level: 1, cost: 800 },
                chance: { level: 1, cost: 1200 },
                regen: { level: 1, cost: 1500 }
            },
            missions: {
                clicks100: { completed: false, claimed: false },
                clicks500: { completed: false, claimed: false },
                clicks1000: { completed: false, claimed: false },
                telegram: { completed: false, claimed: false },
                reaction: { completed: false, claimed: false }
            },
            boosts: {
                click: { active: false, endTime: 0, multiplier: 2 },
                chance: { active: false, endTime: 0, multiplier: 2 },
                energy: { active: false, endTime: 0 },
                reward: { active: false, endTime: 0, multiplier: 2 }
            },
            inventory: [],
            wheelAttempts: 3,
            lastWheelSpin: 0,
            lastEnergyUpdate: Date.now()
        };

        // –ò–≥—Ä–∞ 777
        let game777 = {
            active: false,
            timeLeft: 10,
            clicks: 0,
            target: 50,
            bet: 1000,
            timer: null
        };

        // –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤
        let topPlayers = [
            { name: 'TelegramUser', visa: 12500, level: 15, clicks: 12500 },
            { name: 'ProClicker', visa: 9800, level: 12, clicks: 11000 },
            { name: 'VisaKing', visa: 7500, level: 10, clicks: 9000 },
            { name: 'ClickMaster', visa: 5200, level: 8, clicks: 7000 },
            { name: 'NewPlayer', visa: 1500, level: 3, clicks: 2000 }
        ];

        // ======================
        // –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
        // ======================
        function showNotify(text, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = text;
            
            switch(type) {
                case 'success':
                    notification.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                    notification.style.borderLeftColor = '#00ff88';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(135deg, #e84118, #c23616)';
                    notification.style.borderLeftColor = '#ff3838';
                    break;
                case 'warning':
                    notification.style.background = 'linear-gradient(135deg, #fdcb6e, #e17055)';
                    notification.style.borderLeftColor = '#ffd700';
                    break;
                default:
                    notification.style.background = 'linear-gradient(135deg, #e94560, #ff2e63)';
                    notification.style.borderLeftColor = '#e94560';
            }
            
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // ======================
        // –≠–§–§–ï–ö–¢ –ö–õ–ò–ö–ê
        // ======================
        function createClickEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.style.left = (x - 25) + 'px';
            effect.style.top = (y - 25) + 'px';
            document.body.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 500);
        }

        // ======================
        // –û–°–ù–û–í–ù–û–ô –ö–õ–ò–ö
        // ======================
        function handleClick(event) {
            // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç
            createClickEffect(event.clientX, event.clientY);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–Ω–µ—Ä–≥–∏–∏
            if (gameData.energy < gameData.energyCost) {
                showNotify('‚ö° –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏!', 'error');
                return;
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–µ—Ä–∞
            const clickArea = document.getElementById('clickArea');
            clickArea.style.transform = 'scale(0.92)';
            setTimeout(() => {
                clickArea.style.transform = 'scale(1)';
            }, 100);
            
            // –†–∞—Å—á–µ—Ç —Å–∏–ª—ã –∫–ª–∏–∫–∞
            let power = gameData.clickPower;
            if (gameData.boosts.click.active) {
                power *= gameData.boosts.click.multiplier;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            gameData.totalClicks++;
            gameData.visa += power;
            gameData.xp += 2;
            gameData.energy -= gameData.energyCost;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∞—Ä–∫–∞
            let chance = gameData.giftChance;
            if (gameData.boosts.chance.active) {
                chance *= gameData.boosts.chance.multiplier;
            }
            
            if (Math.random() < chance) {
                showGift();
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∏—Å—Å–∏–π
            updateMissions();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            if (gameData.xp >= gameData.xpNeeded) {
                levelUp();
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
            saveGame();
            updateUI();
        }

        // ======================
        // –ü–û–î–ê–†–ö–ò
        // ======================
        function showGift() {
            const gift = document.getElementById('gift');
            gift.style.display = 'flex';
            gift.style.left = Math.random() * 70 + 15 + '%';
            gift.style.top = Math.random() * 70 + 15 + '%';
            
            showNotify('üéÅ –ü–æ—è–≤–∏–ª—Å—è –ø–æ–¥–∞—Ä–æ–∫! –ö–ª–∏–∫–Ω–∏!', 'warning');
            
            setTimeout(() => {
                if (gift.style.display !== 'none') {
                    gift.style.display = 'none';
                    showNotify('–ü–æ–¥–∞—Ä–æ–∫ –∏—Å—á–µ–∑!', 'error');
                }
            }, 5000);
        }

        function collectGift() {
            const gift = document.getElementById('gift');
            gift.style.display = 'none';
            
            gameData.giftsCollected++;
            
            // –¢–∏–ø –Ω–∞–≥—Ä–∞–¥—ã
            const rand = Math.random();
            
            if (rand < 0.7) {
                // VISA (–æ–±—ã—á–Ω—ã–π)
                const amount = Math.floor(Math.random() * 100) + 50;
                if (gameData.boosts.reward.active) {
                    amount *= gameData.boosts.reward.multiplier;
                }
                gameData.visa += amount;
                showNotify(`üéÅ +${amount} VISA! –í—Å–µ–≥–æ –ø–æ–¥–∞—Ä–∫–æ–≤: ${gameData.giftsCollected}`, 'success');
            } else if (rand < 0.9) {
                // –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç
                const rareItems = ['–ó–æ–ª–æ—Ç–æ–π –∫–ª–∏–∫–µ—Ä', '–ë—Ä–∏–ª–ª–∏–∞–Ω—Ç–æ–≤–∞—è —ç–Ω–µ—Ä–≥–∏—è', '–ü–ª–∞—Ç–∏–Ω–æ–≤—ã–π –±—É—Å—Ç'];
                const item = rareItems[Math.floor(Math.random() * rareItems.length)];
                
                gameData.inventory.push({
                    name: item,
                    type: 'rare',
                    value: Math.floor(Math.random() * 500) + 500
                });
                
                showNotify(`üéÅ –†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç: ${item}!`, 'success');
                updateInventory();
            } else {
                // –°—É–ø–µ—Ä —Ä–µ–¥–∫–∏–π (5% —à–∞–Ω—Å)
                const amount = Math.floor(Math.random() * 500) + 500;
                if (gameData.boosts.reward.active) {
                    amount *= gameData.boosts.reward.multiplier;
                }
                gameData.visa += amount;
                showNotify(`üéÅ –°–£–ü–ï–† –ü–û–î–ê–†–û–ö! +${amount} VISA!`, 'success');
            }
            
            saveGame();
            updateUI();
        }

        // ======================
        // –ò–ì–†–ê 777
        // ======================
        function setBet(amount) {
            if (game777.active) return;
            
            game777.bet = amount;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.bet-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É
            event.target.classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('currentBet').textContent = amount;
            document.getElementById('betAmount').textContent = amount;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Ö–≤–∞—Ç–∞–µ—Ç –ª–∏ –¥–µ–Ω–µ–≥
            const btn = document.getElementById('start777Btn');
            if (gameData.visa < amount) {
                btn.disabled = true;
                btn.style.opacity = '0.5';
            } else {
                btn.disabled = false;
                btn.style.opacity = '1';
            }
        }

        function startGame777() {
            if (game777.active) return;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
            if (gameData.visa < game777.bet) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA –¥–ª—è —Å—Ç–∞–≤–∫–∏!', 'error');
                return;
            }
            
            // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É
            gameData.visa -= game777.bet;
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–≥—Ä—É
            game777.active = true;
            game777.timeLeft = 10;
            game777.clicks = 0;
            game777.target = 50;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
            document.getElementById('game777Overlay').style.display = 'flex';
            document.getElementById('game777Timer').textContent = game777.timeLeft;
            document.getElementById('game777Clicks').textContent = '0';
            document.getElementById('game777Target').textContent = game777.target;
            document.getElementById('targetClicks').textContent = game777.target;
            document.getElementById('game777CloseBtn').style.display = 'none';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            game777.timer = setInterval(() => {
                game777.timeLeft--;
                document.getElementById('game777Timer').textContent = game777.timeLeft;
                
                if (game777.timeLeft <= 0) {
                    endGame777();
                }
            }, 1000);
            
            updateUI();
            showNotify(`üé∞ –ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –°–¥–µ–ª–∞–π –±–æ–ª–µ–µ ${game777.target} –∫–ª–∏–∫–æ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥!`, 'warning');
        }

        function countGame777Click() {
            if (!game777.active) return;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            const clickArea = event.currentTarget;
            clickArea.style.transform = 'scale(0.9)';
            setTimeout(() => {
                clickArea.style.transform = 'scale(1)';
            }, 100);
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
            game777.clicks++;
            document.getElementById('game777Clicks').textContent = game777.clicks;
            
            // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–º —Ç–µ–º–ø–µ
            const timer = document.getElementById('game777Timer');
            const clicksPerSecond = game777.clicks / (10 - game777.timeLeft);
            
            if (clicksPerSecond > 8) {
                timer.style.color = '#00ff88';
                timer.style.textShadow = '0 0 20px #00ff88';
            } else if (clicksPerSecond > 5) {
                timer.style.color = '#ffd700';
                timer.style.textShadow = '0 0 20px #ffd700';
            }
        }

        function endGame777() {
            if (!game777.active) return;
            
            clearInterval(game777.timer);
            game777.active = false;
            
            const btn = document.getElementById('game777CloseBtn');
            const text = document.getElementById('game777Text');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if (game777.clicks >= game777.target) {
                // –ü–û–ë–ï–î–ê
                const winAmount = Math.floor(game777.bet * 2.5);
                gameData.visa += winAmount;
                
                text.innerHTML = `üéâ –ü–û–ë–ï–î–ê! –¢—ã —Å–¥–µ–ª–∞–ª <span style="color:#00ff88">${game777.clicks}</span> –∫–ª–∏–∫–æ–≤!`;
                btn.textContent = `–ó–ê–ë–†–ê–¢–¨ ${winAmount} VISA`;
                btn.style.display = 'block';
                btn.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
                
                showNotify(`üé∞ –ü–û–ë–ï–î–ê! +${winAmount} VISA!`, 'success');
            } else {
                // –ü–û–†–ê–ñ–ï–ù–ò–ï
                text.innerHTML = `üò¢ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ... –¢—ã —Å–¥–µ–ª–∞–ª —Ç–æ–ª—å–∫–æ <span style="color:#e94560">${game777.clicks}</span> –∏–∑ ${game777.target} –∫–ª–∏–∫–æ–≤`;
                btn.textContent = '–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê';
                btn.style.display = 'block';
                btn.style.background = 'linear-gradient(135deg, #e94560, #ff2e63)';
                
                showNotify(`üé∞ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ... –ü–æ—Ç–µ—Ä—è–Ω–æ ${game777.bet} VISA`, 'error');
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–≥—Ä—É
            saveGame();
            updateUI();
        }

        function closeGame777() {
            document.getElementById('game777Overlay').style.display = 'none';
            game777.active = false;
            if (game777.timer) clearInterval(game777.timer);
        }

        // ======================
        // –£–õ–£–ß–®–ï–ù–ò–Ø
        // ======================
        function buyUpgrade(type) {
            const upgrade = gameData.upgrades[type];
            
            if (gameData.visa < upgrade.cost) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA!', 'error');
                return;
            }
            
            // –ü–æ–∫—É–ø–∫–∞
            gameData.visa -= upgrade.cost;
            
            switch(type) {
                case 'click':
                    gameData.clickPower += 2;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 1.8);
                    showNotify('üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞!', 'success');
                    break;
                    
                case 'energy':
                    gameData.maxEnergy += 20;
                    gameData.energy = gameData.maxEnergy;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 1.6);
                    showNotify('‚ö° –ú–∞–∫—Å. —ç–Ω–µ—Ä–≥–∏—è —É–≤–µ–ª–∏—á–µ–Ω–∞!', 'success');
                    break;
                    
                case 'chance':
                    gameData.giftChance += 0.002;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 2.2);
                    showNotify('üéÅ –®–∞–Ω—Å –ø–æ–¥–∞—Ä–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω!', 'success');
                    break;
                    
                case 'regen':
                    gameData.energyRegen += 0.5;
                    upgrade.level++;
                    upgrade.cost = Math.floor(upgrade.cost * 2.5);
                    showNotify('üîã –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏ —É—Å–∫–æ—Ä–µ–Ω–æ!', 'success');
                    break;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
            saveGame();
            updateUI();
        }

        // ======================
        // –ë–£–°–¢–´ –ò–ó –ú–ê–ì–ê–ó–ò–ù–ê
        // ======================
        function buyBoost(type) {
            let cost, duration;
            
            switch(type) {
                case 'click':
                    cost = 1000;
                    duration = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç
                    activateBoost('click', duration, 2);
                    break;
                case 'chance':
                    cost = 2000;
                    duration = 10 * 60 * 1000; // 10 –º–∏–Ω—É—Ç
                    activateBoost('chance', duration, 2);
                    break;
                case 'energy':
                    cost = 3000;
                    duration = 3 * 60 * 1000; // 3 –º–∏–Ω—É—Ç—ã
                    activateBoost('energy', duration);
                    break;
                case 'reward':
                    cost = 5000;
                    duration = 15 * 60 * 1000; // 15 –º–∏–Ω—É—Ç
                    activateBoost('reward', duration, 2);
                    break;
            }
            
            if (gameData.visa < cost) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA!', 'error');
                return;
            }
            
            gameData.visa -= cost;
            showNotify(`‚úÖ –ë—É—Å—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!`, 'success');
            
            saveGame();
            updateUI();
        }

        function activateBoost(type, duration, multiplier = 1) {
            gameData.boosts[type].active = true;
            gameData.boosts[type].endTime = Date.now() + duration;
            if (multiplier > 1) {
                gameData.boosts[type].multiplier = multiplier;
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            gameData.inventory.push({
                name: type === 'click' ? '–ë—É—Å—Ç —Å–∏–ª—ã' : 
                      type === 'chance' ? '–ë—É—Å—Ç —à–∞–Ω—Å–∞' :
                      type === 'energy' ? '–ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏' : '–ë—É—Å—Ç –Ω–∞–≥—Ä–∞–¥',
                type: 'boost',
                endTime: Date.now() + duration
            });
            
            updateInventory();
        }

        // ======================
        // –ú–ò–°–°–ò–ò
        // ======================
        function updateMissions() {
            // –ö–ª–∏–∫–∏ 100
            if (gameData.totalClicks >= 100 && !gameData.missions.clicks100.completed) {
                gameData.missions.clicks100.completed = true;
            }
            
            // –ö–ª–∏–∫–∏ 500
            if (gameData.totalClicks >= 500 && !gameData.missions.clicks500.completed) {
                gameData.missions.clicks500.completed = true;
            }
            
            // –ö–ª–∏–∫–∏ 1000
            if (gameData.totalClicks >= 1000 && !gameData.missions.clicks1000.completed) {
                gameData.missions.clicks1000.completed = true;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            document.getElementById('mission1Progress').textContent = Math.min(gameData.totalClicks, 100) + '/100';
            document.getElementById('mission2Progress').textContent = Math.min(gameData.totalClicks, 500) + '/500';
            document.getElementById('mission3Progress').textContent = Math.min(gameData.totalClicks, 1000) + '/1000';
            
            const mission1Percent = Math.min((gameData.totalClicks / 100) * 100, 100);
            const mission2Percent = Math.min((gameData.totalClicks / 500) * 100, 100);
            const mission3Percent = Math.min((gameData.totalClicks / 1000) * 100, 100);
            
            document.getElementById('mission1Bar').style.width = mission1Percent + '%';
            document.getElementById('mission2Bar').style.width = mission2Percent + '%';
            document.getElementById('mission3Bar').style.width = mission3Percent + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.getElementById('mission1Btn').disabled = !gameData.missions.clicks100.completed || gameData.missions.clicks100.claimed;
            document.getElementById('mission2Btn').disabled = !gameData.missions.clicks500.completed || gameData.missions.clicks500.claimed;
            document.getElementById('mission3Btn').disabled = !gameData.missions.clicks1000.completed || gameData.missions.clicks1000.claimed;
            
            if (gameData.missions.clicks100.claimed) {
                document.getElementById('mission1Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
            }
            if (gameData.missions.clicks500.claimed) {
                document.getElementById('mission2Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
            }
            if (gameData.missions.clicks1000.claimed) {
                document.getElementById('mission3Btn').textContent = '–ü–û–õ–£–ß–ï–ù–û';
            }
        }

        function claimMission(missionNum) {
            let reward;
            
            switch(missionNum) {
                case 1:
                    if (gameData.missions.clicks100.claimed) return;
                    reward = 100;
                    gameData.missions.clicks100.claimed = true;
                    break;
                case 2:
                    if (gameData.missions.clicks500.claimed) return;
                    reward = 500;
                    gameData.missions.clicks500.claimed = true;
                    break;
                case 3:
                    if (gameData.missions.clicks1000.claimed) return;
                    reward = 1000;
                    gameData.missions.clicks1000.claimed = true;
                    break;
            }
            
            gameData.visa += reward;
            showNotify(`üéâ –ú–∏—Å—Å–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞! +${reward} VISA`, 'success');
            
            saveGame();
            updateUI();
            updateMissions();
        }

        function completeTelegramMission() {
            if (gameData.missions.telegram.claimed) return;
            
            gameData.missions.telegram.completed = true;
            gameData.missions.telegram.claimed = true;
            gameData.visa += 500;
            
            document.getElementById('telegramBtn').disabled = true;
            document.getElementById('telegramBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
            
            showNotify('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞! +500 VISA', 'success');
            
            saveGame();
            updateUI();
        }

        function completeReactionMission() {
            if (gameData.missions.reaction.claimed) return;
            
            gameData.missions.reaction.completed = true;
            gameData.missions.reaction.claimed = true;
            gameData.visa += 300;
            
            document.getElementById('reactionBtn').disabled = true;
            document.getElementById('reactionBtn').textContent = '–í–´–ü–û–õ–ù–ï–ù–û';
            
            showNotify('‚úÖ –†–µ–∞–∫—Ü–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞! +300 VISA', 'success');
            
            saveGame();
            updateUI();
        }

        // ======================
        // –ö–û–õ–ï–°–û –§–û–†–¢–£–ù–´
        // ======================
        function spinWheel() {
            if (gameData.wheelAttempts <= 0) {
                showNotify('‚ùå –ù–µ—Ç –ø–æ–ø—ã—Ç–æ–∫! –ü–æ–ø—Ä–æ–±—É–π –∑–∞–≤—Ç—Ä–∞', 'error');
                return;
            }
            
            if (gameData.visa < 100) {
                showNotify('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ VISA –¥–ª—è —Å–ø–∏–Ω–∞!', 'error');
                return;
            }
            
            gameData.visa -= 100;
            gameData.wheelAttempts--;
            
            const wheel = document.getElementById('fortuneWheel');
            const spinBtn = document.getElementById('spinBtn');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
            wheel.classList.remove('wheel-spin');
            void wheel.offsetWidth; // –°–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏
            wheel.classList.add('wheel-spin');
            
            spinBtn.disabled = true;
            spinBtn.textContent = '–í–†–ê–©–ê–ï–¢–°–Ø...';
            
            // –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                const prizes = [
                    { type: 'visa', amount: 500, name: '500 VISA' },
                    { type: 'visa', amount: 1000, name: '1000 VISA' },
                    { type: 'boost', name: '–ë—É—Å—Ç —Å–∏–ª—ã' },
                    { type: 'boost', name: '–ë—É—Å—Ç —ç–Ω–µ—Ä–≥–∏–∏' },
                    { type: 'boost', name: '–ë—É—Å—Ç –Ω–∞–≥—Ä–∞–¥' },
                    { type: 'rare', name: '–†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç' }
                ];
                
                const prize = prizes[Math.floor(Math.random() * prizes.length)];
                
                if (prize.type === 'visa') {
                    gameData.visa += prize.amount;
                    showNotify(`üé° –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${prize.name}!`, 'success');
                } else if (prize.type === 'boost') {
                    gameData.inventory.push({
                        name: prize.name,
                        type: 'boost',
                        endTime: Date.now() + (30 * 60 * 1000) // 30 –º–∏–Ω—É—Ç
                    });
                    showNotify(`üé° –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${prize.name}!`, 'success');
                    updateInventory();
                } else {
                    gameData.inventory.push({
                        name: '–†–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç —Å –∫–æ–ª–µ—Å–∞',
                        type: 'rare',
                        value: 1000
                    });
                    showNotify(`üé° –£–î–ê–ß–ê! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ —Ä–µ–¥–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç!`, 'success');
                    updateInventory();
                }
                
                wheel.classList.remove('wheel-spin');
                spinBtn.disabled = false;
                spinBtn.textContent = `–ö–†–£–¢–ò–¢–¨ (100 VISA)`;
                
                document.getElementById('wheelAttempts').textContent = gameData.wheelAttempts;
                
                saveGame();
                updateUI();
                
            }, 5000);
        }

        // ======================
        // –ò–ù–í–ï–ù–¢–ê–†–¨
        // ======================
        function updateInventory() {
            const grid = document.getElementById('inventoryGrid');
            
            if (gameData.inventory.length === 0) {
                grid.innerHTML = `
                    <div class="inventory-item" id="emptyInventory" style="grid-column: span 3; padding: 40px; text-align: center; opacity: 0.5;">
                        <div class="inventory-icon">üì¶</div>
                        <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                        <div style="font-size: 12px; margin-top: 5px;">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–∏</div>
                    </div>
                `;
                document.getElementById('rareItemsCount').textContent = '0';
                return;
            }
            
            grid.innerHTML = '';
            let rareCount = 0;
            
            gameData.inventory.forEach((item, index) => {
                if (item.type === 'rare') rareCount++;
                
                let icon = 'üéÅ';
                if (item.type === 'boost') icon = '‚ö°';
                if (item.type === 'rare') icon = 'üëë';
                
                const itemDiv = document.createElement('div');
                itemDiv.className = 'inventory-item';
                itemDiv.innerHTML = `
                    <div class="inventory-icon">${icon}</div>
                    <div style="font-weight: bold; font-size: 14px;">${item.name}</div>
                    <div style="font-size: 12px; opacity: 0.8;">${item.type === 'visa' ? item.value + ' VISA' : '–û—Å–æ–±—ã–π'}</div>
                `;
                
                grid.appendChild(itemDiv);
            });
            
            document.getElementById('rareItemsCount').textContent = rareCount;
        }

        // ======================
        // –¢–û–ü –ò–ì–†–û–ö–û–í
        // ======================
        function showTop(type) {
            const topList = document.getElementById('topList');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('#topScreen .menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            let players = [...topPlayers];
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
            const playerExists = players.some(p => p.name === gameData.username);
            if (!playerExists) {
                players.push({
                    name: gameData.username,
                    visa: gameData.visa,
                    level: gameData.level,
                    clicks: gameData.totalClicks
                });
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º
            players.sort((a, b) => b.visa - a.visa);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø
            topList.innerHTML = '';
            
            players.slice(0, 10).forEach((player, index) => {
                const isCurrent = player.name === gameData.username;
                const topItem = document.createElement('div');
                topItem.className = 'mission-item';
                topItem.style.background = isCurrent ? 'rgba(255,215,0,0.1)' : '';
                topItem.style.border = isCurrent ? '1px solid #ffd700' : '';
                
                let medal = '';
                if (index === 0) medal = 'ü•á';
                else if (index === 1) medal = 'ü•à';
                else if (index === 2) medal = 'ü•â';
                
                topItem.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="font-size: 20px; width: 30px;">${medal || '#' + (index + 1)}</div>
                            <div>
                                <div style="font-weight: bold; ${isCurrent ? 'color: #ffd700' : ''}">${player.name}</div>
                                <div style="font-size: 12px; opacity: 0.8;">–£—Ä–æ–≤–µ–Ω—å ${player.level}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-weight: bold; color: #ffd700;">${player.visa} VISA</div>
                            <div style="font-size: 12px; opacity: 0.8;">${player.clicks} –∫–ª–∏–∫–æ–≤</div>
                        </div>
                    </div>
                `;
                
                topList.appendChild(topItem);
            });
            
            // –ü–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞
            const playerIndex = players.findIndex(p => p.name === gameData.username);
            document.getElementById('playerRank').textContent = playerIndex !== -1 ? '#' + (playerIndex + 1) : '#?';
        }

        // ======================
        // –£–†–û–í–ï–ù–¨
        // ======================
        function levelUp() {
            gameData.level++;
            gameData.xp = 0;
            gameData.xpNeeded = Math.floor(gameData.xpNeeded * 1.3);
            
            // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ —É—Ä–æ–≤–µ–Ω—å
            const levelReward = gameData.level * 100;
            gameData.visa += levelReward;
            
            showNotify(`üéâ –£—Ä–æ–≤–µ–Ω—å ${gameData.level}! +${levelReward} VISA`, 'success');
        }

        // ======================
        // –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –≠–ù–ï–†–ì–ò–ò
        // ======================
        function updateEnergy() {
            const now = Date.now();
            const timeDiff = (now - gameData.lastEnergyUpdate) / 1000 / 60; // –≤ –º–∏–Ω—É—Ç–∞—Ö
            
            if (timeDiff >= 1) {
                const energyGain = Math.floor(timeDiff * gameData.energyRegen);
                if (energyGain > 0) {
                    gameData.energy = Math.min(gameData.maxEnergy, gameData.energy + energyGain);
                    gameData.lastEnergyUpdate = now;
                }
            }
        }

        // ======================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ë–£–°–¢–û–í
        // ======================
        function updateBoosts() {
            const now = Date.now();
            
            Object.keys(gameData.boosts).forEach(key => {
                if (gameData.boosts[key].active && now >= gameData.boosts[key].endTime) {
                    gameData.boosts[key].active = false;
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (—É–¥–∞–ª—è–µ–º –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –±—É—Å—Ç—ã)
            gameData.inventory = gameData.inventory.filter(item => {
                if (item.type === 'boost' && item.endTime) {
                    return now < item.endTime;
                }
                return true;
            });
        }

        // ======================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê
        // ======================
        function updateUI() {
            // –ù–∏–∫–Ω–µ–π–º
            document.getElementById('displayUsername').textContent = gameData.username;
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            document.getElementById('visaCount').textContent = gameData.visa;
            document.getElementById('levelCount').textContent = gameData.level;
            document.getElementById('clicksCount').textContent = gameData.totalClicks;
            document.getElementById('energyCount').textContent = Math.floor(gameData.energy);
            
            // –ü—Ä–æ–≥—Ä–µ—Å—Å
            const xpPercent = (gameData.xp / gameData.xpNeeded) * 100;
            document.getElementById('xpBar').style.width = xpPercent + '%';
            document.getElementById('xpText').textContent = `${Math.floor(gameData.xp)}/${gameData.xpNeeded}`;
            
            // –≠–Ω–µ—Ä–≥–∏—è
            const energyPercent = (gameData.energy / gameData.maxEnergy) * 100;
            document.getElementById('energyBar').style.width = energyPercent + '%';
            document.getElementById('energyText').textContent = `${Math.floor(gameData.energy)}/${gameData.maxEnergy}`;
            
            // –ó–Ω–∞—á–µ–Ω–∏—è
            let power = gameData.clickPower;
            if (gameData.boosts.click.active) {
                power *= gameData.boosts.click.multiplier;
                document.getElementById('powerValue').innerHTML = `x${power} <span style="color:#00ff88; font-size:12px;">(–ë–£–°–¢!)</span>`;
            } else {
                document.getElementById('powerValue').textContent = `x${power}`;
            }
            
            let chance = gameData.giftChance * 100;
            if (gameData.boosts.chance.active) {
                chance *= gameData.boosts.chance.multiplier;
                document.getElementById('chanceValue').innerHTML = `${chance.toFixed(2)}% <span style="color:#00ff88; font-size:12px;">(–ë–£–°–¢!)</span>`;
            } else {
                document.getElementById('chanceValue').textContent = `${chance.toFixed(2)}%`;
            }
            
            document.getElementById('clickPower').textContent = gameData.clickPower;
            document.getElementById('maxEnergy').textContent = gameData.maxEnergy;
            document.getElementById('giftChanceValue').textContent = (gameData.giftChance * 100).toFixed(2) + '%';
            document.getElementById('energyPerClick').textContent = gameData.energyCost.toFixed(1);
            document.getElementById('energyRegen').textContent = gameData.energyRegen.toFixed(1);
            document.getElementById('regenSpeed').textContent = gameData.energyRegen.toFixed(1);
            
            // –ö–Ω–æ–ø–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
            document.getElementById('clickBtn').textContent = gameData.upgrades.click.cost + ' VISA';
            document.getElementById('energyBtn').textContent = gameData.upgrades.energy.cost + ' VISA';
            document.getElementById('chanceBtn').textContent = gameData.upgrades.chance.cost + ' VISA';
            document.getElementById('regenBtn').textContent = gameData.upgrades.regen.cost + ' VISA';
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∫—É–ø–∫–∏
            document.getElementById('clickBtn').disabled = gameData.visa < gameData.upgrades.click.cost;
            document.getElementById('energyBtn').disabled = gameData.visa < gameData.upgrades.energy.cost;
            document.getElementById('chanceBtn').disabled = gameData.visa < gameData.upgrades.chance.cost;
            document.getElementById('regenBtn').disabled = gameData.visa < gameData.upgrades.regen.cost;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–≤–∫–∏ –¥–ª—è –∏–≥—Ä—ã 777
            const start777Btn = document.getElementById('start777Btn');
            if (gameData.visa < game777.bet) {
                start777Btn.disabled = true;
                start777Btn.style.opacity = '0.5';
            } else {
                start777Btn.disabled = false;
                start777Btn.style.opacity = '1';
            }
        }

        // ======================
        // –°–ú–ï–ù–ê –≠–ö–†–ê–ù–û–í
        // ======================
        function showScreen(screen) {
            // –í—Å–µ —ç–∫—Ä–∞–Ω—ã
            const screens = ['clicker', 'missions', 'shop', 'inventory', 'wheel', 'top'];
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ
            screens.forEach(s => {
                const element = document.getElementById(s + 'Screen');
                if (element) element.style.display = 'none';
            });
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            document.getElementById(screen + 'Screen').style.display = 'block';
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            const btnIndex = screens.indexOf(screen);
            document.querySelectorAll('.menu-btn')[btnIndex].classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
            if (screen === 'clicker') {
                updateUI();
            } else if (screen === 'missions') {
                updateMissions();
            } else if (screen === 'inventory') {
                updateInventory();
            } else if (screen === 'top') {
                showTop('all');
            }
        }

        // ======================
        // –°–û–•–†–ê–ù–ï–ù–ò–ï/–ó–ê–ì–†–£–ó–ö–ê
        // ======================
        function saveGame() {
            try {
                localStorage.setItem('visaclicker_game_data', JSON.stringify(gameData));
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
            }
        }

        function loadGame() {
            try {
                const saved = localStorage.getItem('visaclicker_game_data');
                if (saved) {
                    const loaded = JSON.parse(saved);
                    // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞ —Å–ª—É—á–∞–π –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π)
                    gameData = { ...gameData, ...loaded };
                    return true;
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', e);
            }
            return false;
        }

        // ======================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ======================
        window.onload = function() {
            // –ê–≤—Ç–æ–≤—Ö–æ–¥
            loadGame();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateUI();
            updateMissions();
            updateInventory();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            setInterval(() => {
                updateEnergy();
                updateBoosts();
                updateUI();
                saveGame();
            }, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
            setInterval(() => {
                gameData.wheelAttempts = 3;
                showNotify('üé° –ü–æ–ø—ã—Ç–∫–∏ –Ω–∞ –∫–æ–ª–µ—Å–µ —Ñ–æ—Ä—Ç—É–Ω—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!', 'success');
            }, 24 * 60 * 60 * 1000);
            
            // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            setTimeout(() => {
                showNotify('üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ VISA CLICKER!', 'success');
            }, 1000);
        };

        // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.gameData = gameData;
    </script>
</body>
</html>
